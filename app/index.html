<!DOCTYPE html>
<html>
<head lang="en">
    <title>上门网330门业招商</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport"
          content="width=640,maximum-scale=1.0,user-scalable=no,target-densitydpi=device-dpi, minimal-ui"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <meta name="apple-touch-fullscreen" content="no"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="format-detection" content="telephone=no"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black"/>
    <link rel="stylesheet" href="styles/base.css?v=102">
    <link rel="stylesheet" href="styles/style.css?v=102"/>

    <link rel="stylesheet" href="styles/brand.css"/>
    <link rel="stylesheet" href="styles/favorite.css"/>
    <link rel="stylesheet" href="styles/login.css"/>
    <link rel="stylesheet" href="styles/message.css"/>
    <link rel="stylesheet" href="styles/product.css"/>
    <link rel="stylesheet" href="styles/register.css"/>


</head>
<body>
<!--加载动画-->
<div id="Loading" style="display: block;">
    <div id="heart">
        <a href="#" onclick="stopLoading();"><img
                src="images/loading.gif" width="200%"></a>
    </div>
    <div id="Waiting">
        <span style="text-align:center; color:#F00">
        </span>
    </div>
</div>
<!--首页-->
<div class="app-page" data-page="home">
    <div class="app-logo-container">
        <div class="app-logo icon-bg grid-6">
        </div>
        <div class="grid-4" style="text-align: right; height: 100%;">
            <div class="app-button btn-register" data-target="register_dealers">注册</div>
            <div class="app-button btn-login" data-target="login_dealers">登录</div>
        </div>

    </div>
    <div class="app-topbar">
        <div class="app-button btn-menu icon-bg grid-2" data-target="category">分&nbsp;类</div>
        <div class="app-search grid-6"><input class="input-search icon-bg" type="button"/>

            <div class="search-placeholder app-button" data-target="search">搜索品牌&nbsp;/&nbsp;搜索产品</div>
        </div>
        <div class="app-button grid-2  btn-my icon-bg"><span class="span-my">我&nbsp;的</span>

            <div class="container-my" style="display:none;">
                <ul class="ul-my">
                    <li>
                        <div class="icon-bg icon-member"></div>
                        <p>我的资料</p>
                    </li>
                    <li>
                        <div class="icon-bg icon-door"></div>
                        <p>收藏的产品</p></li>
                    <li>
                        <div class="icon-bg icon-diamond"></div>
                        <p>收藏的品牌</p></li>
                    <li>
                        <div class="icon-bg icon-hand"></div>
                        <p>我的合作意向</p></li>
                    <li>
                        <div class="icon-bg icon-money"></div>
                        <p>我的代金券</p></li>
                    <li>
                        <div class="icon-bg icon-message"></div>
                        <p>我的留言</p></li>
                </ul>
            </div>

        </div>
    </div>
    <div class="app-content">
        <!--banner-->
        <div class="app-banner" style="overflow:hidden;">
            <img src="images/banner.jpg" alt="" width="100%"/>
        </div>
        <!--品牌/产品展示馆-->
        <div class="app-section section-title">
            品牌/产品展示馆 &nbsp;&nbsp;&nbsp;<span class="app-button" data-target="product_list">产品列表</span><span
                class="app-button" data-target="product_detail">产品详细</span>
        </div>
        <div class="app-section">
            <ul class="cate-ul">
                <li class="cate_01 cate-l">
                    <div class="cate-title app-button" data-target="brand_list">
                        品牌展示馆
                        <p>海量品牌等你来选</p>
                    </div>
                </li>
                <li class="cate_02 cate-r">
                    <div class="cate-title">
                        特色门馆
                        <p>各厂家最待色的门</p>
                    </div>
                </li>
                <li class="cate_03 cate-l">
                    <div class="cate-title">
                        木门馆
                        <p>工艺上具备原木的天然待性与环保性</p>
                    </div>
                </li>
                <li class="cate_04 cate-r">
                    <div class="cate-title">
                        生态木门/强化门
                        <p>拥有更长的使用寿命</p>
                    </div>
                </li>
                <li class="cate_05 cate-l">
                    <div class="cate-title">
                        钢木门馆
                        <p>无毒绿色健康环保</p>
                    </div>
                </li>
                <li class="cate_06 cate-r">
                    <div class="cate-title">
                        铝合金门馆
                        <p>防尘、防水、隔音效果突出</p>
                    </div>
                </li>
                <li class="cate_07 cate-l">
                    <div class="cate-title">
                        防盗门馆
                        <p>工艺上具备原木的天然待性与环保性</p>
                    </div>
                </li>
                <li class="cate_08 cate-r">
                    <div class="cate-title">
                        防火门馆
                        <p>工艺上具备原木的天然待性与环保性</p>
                    </div>
                </li>
                <li class="cate_09 cate-l">
                    <div class="cate-title">
                        非标门馆
                        <p>工艺上具备原木的天然待性与环保性</p>
                    </div>
                </li>
                <li class="cate_10 cate-r">
                    <div class="cate-title">
                        铜门/不锈钢门馆
                        <p>工艺上具备原木的天然待性与环保性</p>
                    </div>
                </li>

            </ul>
        </div>
        <!--品牌展示-->
        <div id="merchants-show">
            <div class="app-section">
                <div class="merchant-title-bg"></div>
                <div class="merchant-title">
                    <div class="grid-3 ">
                        <div class="merchant-t-tl">品牌护航</div>
                    </div>
                    <div class="grid-4 relative merchant-t-m">
                        {{title}}
                    </div>
                    <div class="grid-3 ">
                        <div class="merchant-t-tr">代理无忧</div>
                    </div>
                </div>
                <div class="merchant-content">
                    <ul id="brandList" class="merchant-content-ul">
                        {{#each list}}
                        <li>
                            <div class="merchant-cont-img">
                                <img src="{{CONST 'PIC_URL'}}{{brand_path}}" alt="" width="284" height="347"/>
                            </div>
                            <div class="merchant-cont-title">
                                {{cust_name}}
                            </div>
                            <div class="merchant-cont-brand">
                                所属品牌：{{brand_name}}
                            </div>
                        </li>
                        {{/each}}
                    </ul>
                </div>
            </div>
        </div>
        <!--页脚-->
        <div class="app-section merchant-footer">
            <p>①2015 浙B2-20050229-3 用户反馈中心</p>
            <img src="images/bottom-logo.png" alt="手机 3月30日"/>

            <div><strong>足不出户逛展会</strong></div>
        </div>
    </div>
</div>
<!--分类-->
<div class="app-page" data-page="category">
    <div class="app-section">
        <div class="category-title">
            <div class="cate-item category-zg current">
                展馆分类
            </div>
            <div class="cate-item category-pro">
                产品分类
            </div>
            <div class="app-button category-close icon-bg" data-back></div>
        </div>
    </div>
    <div class="app-content">
        <div class="app-section relative">
            <div class="cate-item-sub cate-item-sub-0 cate-cur">
                <div class="cate-item-sub-title">
                    请选择以下展馆分类进入查看品牌或产品 <span class="icon-bg icon-down"></span>
                </div>
                <ul class="cate-ul">
                    <li class="cate_01 cate-l">
                        <div class="cate-title">
                            品牌展示馆
                            <p>海量品牌等你来选</p>
                        </div>
                    </li>
                    <li class="cate_02 cate-r">
                        <div class="cate-title">
                            特色门馆
                            <p>各厂家最待色的门</p>
                        </div>
                    </li>
                    <li class="cate_03 cate-l">
                        <div class="cate-title">
                            木门馆
                            <p>工艺上具备原木的天然待性与环保性</p>
                        </div>
                    </li>
                    <li class="cate_04 cate-r">
                        <div class="cate-title">
                            生态木门/强化门
                            <p>拥有更长的使用寿命</p>
                        </div>
                    </li>
                    <li class="cate_05 cate-l">
                        <div class="cate-title">
                            钢木门馆
                            <p>无毒绿色健康环保</p>
                        </div>
                    </li>
                    <li class="cate_06 cate-r">
                        <div class="cate-title">
                            铝合金门馆
                            <p>防尘、防水、隔音效果突出</p>
                        </div>
                    </li>
                    <li class="cate_07 cate-l">
                        <div class="cate-title">
                            防盗门馆
                            <p>工艺上具备原木的天然待性与环保性</p>
                        </div>
                    </li>
                    <li class="cate_08 cate-r">
                        <div class="cate-title">
                            防火门馆
                            <p>工艺上具备原木的天然待性与环保性</p>
                        </div>
                    </li>
                    <li class="cate_09 cate-l">
                        <div class="cate-title">
                            非标门馆
                            <p>工艺上具备原木的天然待性与环保性</p>
                        </div>
                    </li>
                    <li class="cate_10 cate-r">
                        <div class="cate-title">
                            铜门/不锈钢门馆
                            <p>工艺上具备原木的天然待性与环保性</p>
                        </div>
                    </li>

                </ul>
            </div>
            <div class="cate-item-sub cate-item-sub-1">
                <div class="cate-item-sub-title">
                    请选择以下产品分类进入查看品牌或产品 <span class="icon-bg icon-down"></span>
                </div>
                <ul class="cate-pro-ul">
                    {{#each list}}
                    <li id="{{cat_id}}">{{cat_name}}</li>
                    {{/each}}
                </ul>
            </div>
        </div>
    </div>
</div>
<!--登录-->
<div class="app-page login_dealers" data-page="login_dealers">
</div>
<!--注册-->
<div class="app-page login_dealers" data-page="register_dealers">
</div>
<!--搜索-->
<div class="app-page" data-page="search">
    <div class="app-section">
        <div class="category-title">
            <div class="cate-item category-zg current">
                空白区域搜索
            </div>
            <div class="cate-item category-pro">
                搜索产品
            </div>
            <div class="app-button category-close icon-bg" data-back></div>
        </div>
    </div>
    <div class="app-content">
        <div class="app-section relative">
            <div class="cate-item-sub cate-item-sub-0 cate-cur">
                <div class="cate-item-sub-title">
                    <input class="input-search" type="text" placeholder="请输入要搜索的空白区域地址"/>
                </div>
                <div class="search-tip">
                    <p><span class="red">提示：</span>在下面输入框中先输入您要搜索的空 白区域地址，如：输入<span class="red">永康</span>
                        ，那么就会列出永康为空白区域的品牌，输入时， 不要输入省、市、县、区等字， 如：<span class="red">
                            不要输入永康市
                    </span>

                    </p>
                </div>
            </div>
            <div class="cate-item-sub cate-item-sub-1">
                <div class="cate-item-sub-title">
                    请选择以下产品价格分类进入查看产品 <span class="icon-bg icon-down"></span>
                </div>
                <ul class="cate-pro-ul search-price-ul">
                    {{#each list}}
                    <li id="{{para_key}}">{{para_value}}</li>
                    {{/each}}
                </ul>
            </div>
        </div>
    </div>
</div>
<!--品牌-->
<div class="app-page" data-page="brand_list"></div>
<div class="app-page" data-page="brand_detail"></div>

<!--产品-->
<div class="app-page" data-page="product_list"></div>
<div class="app-page" data-page="product_detail"></div>

<script src="scripts/base.js"></script>
<script src="const.js"></script>
<script src="config.local.js"></script>

<script src="modules/brand/main.js"></script>
<script src="modules/favorite/main.js"></script>
<script src="modules/login/main.js"></script>
<script src="modules/message/main.js"></script>
<script src="modules/product/main.js"></script>
<script src="modules/register/main.js"></script>
<script src="modules/category/main.js"></script>

<script src="config.js"></script>
<script>
    var COLOUR_KEY = '__BASIC_APP_COLOUR___';
    var WINDOW_WIDTH = null;

    var colourPages = [],
            colour = localStorage[COLOUR_KEY] || 'teal';

    function stopLoading() {
        $("#Loading").fadeOut();
    }

    seajs.use(['App'], function (App) {
        /*首页*/
        App.controller('home', function (page) {
            $(page).find('[data-target="inputs"]')
                    .attr('data-target', null)
                    .stickyClick(function (unlock) {
                        App.pick('inputs', function (params) {
                            console.log(JSON.stringify(params));
                            unlock();
                        });
                    });
            // 我的330
            $(page).find('.btn-my').click(function () {
                var $dom = $(this).find('.span-my').get(0);
                seajs.use(['dialog'], function (dialog) {
                    window.dialog = dialog({
                        id: '330dialog',
                        title: '我的330',
                        align: 'bottom right',
                        width: WINDOW_WIDTH - 280,
                        content: $('.container-my', $(page)).html()
                    }).showModal($dom);
                })
            });
            // 门馆展示
            App.query('/index', {
                success: function (result) {
                    var $container = $('#merchants-show', $(page));
                    var template = $container.html();
                    $container.empty();
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '品牌展示馆',
                        list: result.brandList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '铝合金门馆',
                        list: result.lvhejinList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '生态木门/强化门馆',
                        list: result.shengtaiList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '防火门馆',
                        list: result.fanghuoList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '非标门馆',
                        list: result.feibiaoList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '防盗门馆',
                        list: result.fangdaoList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '不锈钢门馆',
                        list: result.buxiugangList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '钢木门馆',
                        list: result.gangmuList.list
                    }});
                    App.render({ render: '#merchants-show', page: page, template: template, data: {
                        title: '木门馆',
                        list: result.mumenList.list
                    }});
                }
            });
            // 布局相关
            WINDOW_WIDTH = $(window).width();
            $(page).find('.app-logo-container').height(WINDOW_WIDTH * 0.2);
            $(window).resize(function () {
                $(page).find('.app-logo-container').height(WINDOW_WIDTH * 0.2);
            });
        });
        /*分类页面*/
        App.controller('category', function (page) {
            this.transition = 'slideon-down';
            seajs.use(['CategoryCtrl'], function (CategoryCtrl) {
                new CategoryCtrl(page, this);
            });
        });
        /*品牌*/
        App.controller('brand_list', function (page) {
            var ctx = this;
            seajs.use(['BrandList'], function (BrandList) {
                new BrandList(page, ctx);
            });
        });
        App.controller('brand_detail', function (page) {
            var ctx = this;
            seajs.use(['BrandDetail'], function (BrandDetail) {
                new BrandDetail(page, ctx);
            })
        });
        /*产品*/
        App.controller('product_list', function (page) {
            var ctx = this;
            seajs.use(['ProductList'], function (ProductList) {
                new ProductList(page, ctx);
            });
        });
        App.controller('product_detail', function (page) {
            var ctx = this;
            seajs.use(['ProductDetail'], function (ProductDetail) {
                new ProductDetail(page, ctx);
            });
        });
        /*登录页面*/
        App.controller('login_dealers', function (page) {
            var ctx = this;
            this.transition = 'slide-left';
            seajs.use(['Login'], function (Login) {
                new Login(page, ctx);
            });
        });
        /*注册页面*/
        App.controller('register_dealers', function (page) {
            var ctx = this;
            this.transition = 'slide-left';
            seajs.use(['Register'], function (Register) {
                new Register(page, ctx);
            });
        });
        /*搜索页面*/
        App.controller('search', function (page) {
            this.transition = 'fade';
            var $sub = $(page).find('.cate-item-sub');
            $(page).find('.cate-item').each(function (index) {
                $(this).click(function () {
                    $(this).addClass('current').siblings('.cate-item').removeClass('current');
                    $sub.eq(index).addClass('cate-cur').siblings().removeClass('cate-cur');
                });
            });
            App.query('/product/price', {
                cache: true,
                success: function (result) {
                    var $container = $('.search-price-ul', $(page));
                    var template = $container.html();
                    App.render({ render: '.search-price-ul', page: page, template: template, empty: true, data: {
                        list: result.priceList
                    }});
                }
            });
        });


        App.enableDragTransition();
        try {
            App.restore();
        } catch (err) {
            App.load('home');
        }
    });

</script>

</body>
</html>