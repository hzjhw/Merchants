!function(e,t){function n(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function r(){return q++}function i(e){return e.match(O)[0]}function a(e){for(e=e.replace(_,"/"),e=e.replace(C,"$1/");e.match(D);)e=e.replace(D,"/");return e}function o(e){var t=e.length-1,n=e.charAt(t);return"#"===n?e.substring(0,t):".js"===e.substring(t-2)||e.indexOf("?")>0||"/"===n?e:e+".js"}function s(e){var t=b.alias;return t&&A(t[e])?t[e]:e}function u(e){var t,n=b.paths;return n&&(t=e.match(U))&&A(n[t[1]])&&(e=n[t[1]]+t[2]),e}function c(e){var t=b.vars;return t&&e.indexOf("{")>-1&&(e=e.replace(N,function(e,n){return A(t[n])?t[n]:e})),e}function f(e){var t=b.map,n=e;if(t)for(var r=0,i=t.length;i>r;r++){var a=t[r];if(n=j(a)?a(e)||e:e.replace(a[0],a[1]),n!==e)break}return n}function l(e,t){var n,r=e.charAt(0);if(H.test(e))n=e;else if("."===r)n=a((t?i(t):b.cwd)+e);else if("/"===r){var o=b.cwd.match(G);n=o?o[0]+e.substring(1):e}else n=b.base+e;return 0===n.indexOf("//")&&(n=location.protocol+n),n}function d(e,t){if(!e)return"";e=s(e),e=u(e),e=c(e),e=o(e);var n=l(e,t);return n=f(n)}function p(e){return e.hasAttribute?e.src:e.getAttribute("src",4)}function h(e,t,n){var r=I.createElement("script");if(n){var i=j(n)?n(e):n;i&&(r.charset=i)}v(r,t,e),r.async=!0,r.src=e,M=r,R?F.insertBefore(r,R):F.appendChild(r),M=null}function v(e,t,n){function r(){e.onload=e.onerror=e.onreadystatechange=null,b.debug||F.removeChild(e),e=null,t()}var i="onload"in e;i?(e.onload=r,e.onerror=function(){S("error",{uri:n,node:e}),r()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&r()}}function g(){if(M)return M;if(B&&"interactive"===B.readyState)return B;for(var e=F.getElementsByTagName("script"),t=e.length-1;t>=0;t--){var n=e[t];if("interactive"===n.readyState)return B=n}}function m(e){var t=[];return e.replace(z,"").replace(P,function(e,n,r){r&&t.push(r)}),t}function y(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}if(!e.seajs){var x=e.seajs={version:"2.3.0"},b=x.data={},E=n("Object"),A=n("String"),w=Array.isArray||n("Array"),j=n("Function"),q=0,T=b.events={};x.on=function(e,t){var n=T[e]||(T[e]=[]);return n.push(t),x},x.off=function(e,t){if(!e&&!t)return T=b.events={},x;var n=T[e];if(n)if(t)for(var r=n.length-1;r>=0;r--)n[r]===t&&n.splice(r,1);else delete T[e];return x};var S=x.emit=function(e,t){var n=T[e];if(n){n=n.slice();for(var r=0,i=n.length;i>r;r++)n[r](t)}return x},O=/[^?#]*\//,_=/\/\.\//g,D=/\/[^/]+\/\.\.\//,C=/([^:/])\/+\//g,U=/^([^/:]+)(\/.+)$/,N=/{([^{]+)}/g,H=/^\/\/.|:\//,G=/^.*?\/\/.*?\//,I=document,k=location.href&&0!==location.href.indexOf("about:")?i(location.href):"",L=I.scripts,X=I.getElementById("seajsnode")||L[L.length-1],$=i(p(X)||k);x.resolve=d;var M,B,F=I.head||I.getElementsByTagName("head")[0]||I.documentElement,R=F.getElementsByTagName("base")[0];x.request=h;var V,P=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,z=/\\\\/g,J=x.cache={},K={},Q={},W={},Y=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype.resolve=function(){for(var e=this,t=e.dependencies,n=[],r=0,i=t.length;i>r;r++)n[r]=y.resolve(t[r],e.uri);return n},y.prototype.load=function(){var e=this;if(!(e.status>=Y.LOADING)){e.status=Y.LOADING;var n=e.resolve();S("load",n);for(var r,i=e._remain=n.length,a=0;i>a;a++)r=y.get(n[a]),r.status<Y.LOADED?r._waitings[e.uri]=(r._waitings[e.uri]||0)+1:e._remain--;if(0===e._remain)return e.onload(),t;var o={};for(a=0;i>a;a++)r=J[n[a]],r.status<Y.FETCHING?r.fetch(o):r.status===Y.SAVED&&r.load();for(var s in o)o.hasOwnProperty(s)&&o[s]()}},y.prototype.onload=function(){var e=this;e.status=Y.LOADED,e.callback&&e.callback();var t,n,r=e._waitings;for(t in r)r.hasOwnProperty(t)&&(n=J[t],n._remain-=r[t],0===n._remain&&n.onload());delete e._waitings,delete e._remain},y.prototype.fetch=function(e){function n(){x.request(o.requestUri,o.onRequest,o.charset)}function r(){delete K[s],Q[s]=!0,V&&(y.save(a,V),V=null);var e,t=W[s];for(delete W[s];e=t.shift();)e.load()}var i=this,a=i.uri;i.status=Y.FETCHING;var o={uri:a};S("fetch",o);var s=o.requestUri||a;return!s||Q[s]?(i.load(),t):K[s]?(W[s].push(i),t):(K[s]=!0,W[s]=[i],S("request",o={uri:a,requestUri:s,onRequest:r,charset:b.charset}),o.requested||(e?e[o.requestUri]=n:n()),t)},y.prototype.exec=function(){function e(t){return y.get(e.resolve(t)).exec()}var n=this;if(n.status>=Y.EXECUTING)return n.exports;n.status=Y.EXECUTING;var i=n.uri;e.resolve=function(e){return y.resolve(e,i)},e.async=function(t,n){return y.use(t,n,i+"_async_"+r()),e};var a=n.factory,o=j(a)?a(e,n.exports={},n):a;return o===t&&(o=n.exports),delete n.factory,n.exports=o,n.status=Y.EXECUTED,S("exec",n),o},y.resolve=function(e,t){var n={id:e,refUri:t};return S("resolve",n),n.uri||x.resolve(n.id,t)},y.define=function(e,n,r){var i=arguments.length;1===i?(r=e,e=t):2===i&&(r=n,w(e)?(n=e,e=t):n=t),!w(n)&&j(r)&&(n=m(""+r));var a={id:e,uri:y.resolve(e),deps:n,factory:r};if(!a.uri&&I.attachEvent){var o=g();o&&(a.uri=o.src)}S("define",a),a.uri?y.save(a.uri,a):V=a},y.save=function(e,t){var n=y.get(e);n.status<Y.SAVED&&(n.id=t.id||e,n.dependencies=t.deps||[],n.factory=t.factory,n.status=Y.SAVED,S("save",n))},y.get=function(e,t){return J[e]||(J[e]=new y(e,t))},y.use=function(t,n,r){var i=y.get(r,w(t)?t:[t]);i.callback=function(){for(var t=[],r=i.resolve(),a=0,o=r.length;o>a;a++)t[a]=J[r[a]].exec();n&&n.apply(e,t),delete i.callback},i.load()},x.use=function(e,t){return y.use(e,t,b.cwd+"_use_"+r()),x},y.define.cmd={},e.define=y.define,x.Module=y,b.fetchedList=Q,b.cid=r,x.require=function(e){var t=y.get(y.resolve(e));return t.status<Y.EXECUTING&&(t.onload(),t.exec()),t.exports},b.base=$,b.dir=$,b.cwd=k,b.charset="utf-8",x.config=function(e){for(var t in e){var n=e[t],r=b[t];if(r&&E(r))for(var i in n)r[i]=n[i];else w(r)?n=r.concat(n):"base"===t&&("/"!==n.slice(-1)&&(n+="/"),n=l(n)),b[t]=n}return S("config",e),x}}}(this),function(){function e(e){s[e.name]=e}function t(e){return e&&s.hasOwnProperty(e)}function n(e){for(var n in s)if(t(n)){var r=","+s[n].ext.join(",")+",";if(r.indexOf(","+e+",")>-1)return n}}function r(e,t){var n=o.XMLHttpRequest?new o.XMLHttpRequest:new o.ActiveXObject("Microsoft.XMLHTTP");return n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState){if(n.status>399&&n.status<600)throw new Error("Could not load: "+e+", status = "+n.status);t(n.responseText)}},n.send(null)}function i(e){e&&/\S/.test(e)&&(o.execScript||function(e){(o.eval||eval).call(o,e)})(e)}function a(e){return e.replace(/(["\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")}var o=window,s={},u={};e({name:"text",ext:[".tpl",".html"],exec:function(e,t){i('define("'+e+'#", [], "'+a(t)+'")')}}),e({name:"json",ext:[".json"],exec:function(e,t){i('define("'+e+'#", [], '+t+")")}}),e({name:"handlebars",ext:[".handlebars"],exec:function(e,t){var n=['define("'+e+'#", ["handlebars"], function(require, exports, module) {','  var source = "'+a(t)+'"','  var Handlebars = require("handlebars")["default"]',"  module.exports = function(data, options) {","    options || (options = {})","    options.helpers || (options.helpers = {})","    for (var key in Handlebars.helpers) {","      options.helpers[key] = options.helpers[key] || Handlebars.helpers[key]","    }","    return Handlebars.compile(source)(data, options)","  }","})"].join("\n");i(n)}}),seajs.on("resolve",function(e){var r=e.id;if(!r)return"";var i,a;(a=r.match(/^(\w+)!(.+)$/))&&t(a[1])?(i=a[1],r=a[2]):(a=r.match(/[^?]+(\.\w+)(?:\?|#|$)/))&&(i=n(a[1])),i&&-1===r.indexOf("#")&&(r+="#");var o=seajs.resolve(r,e.refUri);i&&(u[o]=i),e.uri=o}),seajs.on("request",function(e){var t=u[e.uri];t&&(r(e.requestUri,function(n){s[t].exec(e.uri,n),e.onRequest()}),e.requested=!0)}),define("seajs/seajs-text/1.1.1/seajs-text-debug",[],{})}();var Application=function(e){this.options=e,this.initialize.apply(this,arguments)};Application.prototype={initialize:function(){this.modules={},this.status={},this.templates={},this.cache={}},addModule:function(e,t){e in this.modules&&console.log("已存在的模块："+e),this.modules[e]=t},getModules:function(){return this.modules},addStatus:function(e,t){this.status[e]=t},getStatus:function(e){return this.status[e]},getAllStatus:function(){return this.status},addTemplate:function(e,t){e in this.templates&&console.log("已存在的模板："+e),this.templates[e]=t},getTemplates:function(){return this.templates},render:function(e){e=Application.extend({empty:!1},e),seajs.use(["HandlebarsHelper"],function(t){var n=$(e.render,$(e.page||"body")),r=t.compile(e.template||n.html());e.empty&&n.empty(),n.append($(r(e.data)))})},addCache:function(e,t){this.cache[e]=t},getCache:function(e){return this.cache[e]}},Application.each=function(e,t){var n,r;if(null==e)return e;if(e.length===+e.length)for(n=0,r=e.length;r>n&&t(e[n],n,e)!==!1;n++);else{var i=Object.keys(e);for(n=0,r=i.length;r>n&&t(e[i[n]],i[n],e,n)!==!1;n++);}return e},Application.extend=function(e){return"undefined"==typeof e?e:(Array.prototype.slice.call(arguments,1).forEach(function(t){for(var n in t)e[n]=t[n]}),e)},Application.getValue=function(e,t){function n(e,t){return Application.each(t,function(r){return r in e?1!==t.length?(t.shift(),n(e[r],t),!1):void(i=e[r]):!1}),i}var r,i;return arguments.length<2||"string"!=typeof t?void console.error("参数不能少于2个， 且path为字符串"):(r=t.split("."),n(e,r))},function(){var e,t;!function(n,r){function i(e){return function(t){return{}.toString.call(t)=="[object "+e+"]"}}function a(){}var o=i("Function"),s={};a.prototype.exec=function(){function e(e){return a.get(e).exec()}var t=this;if(this.execed)return t.exports;this.execed=!0;var n=t.factory,i=o(n)?n(e,t.exports={},t):n;return i===r&&(i=t.exports),delete t.factory,t.exports=i,i},e=function(e,t,n){var r={id:e,deps:t,factory:n};a.save(r)},a.save=function(e){var t=a.get(e.id);t.id=e.id,t.dependencies=e.deps,t.factory=e.factory},a.get=function(e){return s[e]||(s[e]=new a)},t=function(e){var t=a.get(e);return t.execed||t.exec(),t.exports}}(this)}();