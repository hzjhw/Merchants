function hash(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}var Zepto=function(){function t(t){return null==t?String(t):Z[U.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(e){return"object"==t(e)}function o(t){return r(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function s(t){return L.call(t,function(t){return null!=t})}function l(t){return t.length>0?T.fn.concat.apply([],t):t}function c(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in D?D[t]:D[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,e){return"number"!=typeof e||Y[c(t)]?e:e+"px"}function p(t){var e,n;return O[t]||(e=A.createElement(t),A.body.appendChild(e),n=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==n&&(n="block"),O[t]=n),O[t]}function d(t){return"children"in t?N.call(t.children):T.map(t.childNodes,function(t){return 1==t.nodeType?t:void 0})}function h(t,e,n){for(E in e)n&&(o(e[E])||J(e[E]))?(o(e[E])&&!o(t[E])&&(t[E]={}),J(e[E])&&!J(t[E])&&(t[E]=[]),h(t[E],e[E],n)):e[E]!==w&&(t[E]=e[E])}function m(t,e){return null==e?T(t):T(t).filter(e)}function g(t,n,i,r){return e(n)?n.call(t,i,r):n}function b(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function v(t,e){var n=t.className,i=n&&n.baseVal!==w;return e===w?i?n.baseVal:n:void(i?n.baseVal=e:t.className=e)}function y(t){var e;try{return t?"true"==t||("false"==t?!1:"null"==t?null:/^0/.test(t)||isNaN(e=Number(t))?/^[\[\{]/.test(t)?T.parseJSON(t):t:e):t}catch(n){return t}}function S(t,e){e(t);for(var n in t.childNodes)S(t.childNodes[n],e)}var w,E,T,x,_,k,C=[],N=C.slice,L=C.filter,A=window.document,O={},D={},Y={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,P=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,X=/^(?:body|html)$/i,j=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],I=["after","prepend","before","append"],B=A.createElement("table"),q=A.createElement("tr"),H={tr:A.createElement("tbody"),tbody:B,thead:B,tfoot:B,td:q,th:q,"*":A.createElement("div")},W=/complete|loaded|interactive/,F=/^[\w-]*$/,Z={},U=Z.toString,V={},G=A.createElement("div"),$={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},J=Array.isArray||function(t){return t instanceof Array};return V.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var n=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(n)return n.call(t,e);var i,r=t.parentNode,o=!r;return o&&(r=G).appendChild(t),i=~V.qsa(r,e).indexOf(t),o&&G.removeChild(t),i},_=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},k=function(t){return L.call(t,function(e,n){return t.indexOf(e)==n})},V.fragment=function(t,e,n){var i,r,a;return P.test(t)&&(i=T(A.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(z,"<$1></$2>")),e===w&&(e=M.test(t)&&RegExp.$1),e in H||(e="*"),a=H[e],a.innerHTML=""+t,i=T.each(N.call(a.childNodes),function(){a.removeChild(this)})),o(n)&&(r=T(i),T.each(n,function(t,e){R.indexOf(t)>-1?r[t](e):r.attr(t,e)})),i},V.Z=function(t,e){return t=t||[],t.__proto__=T.fn,t.selector=e||"",t},V.isZ=function(t){return t instanceof V.Z},V.init=function(t,n){var i;if(!t)return V.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&M.test(t))i=V.fragment(t,RegExp.$1,n),t=null;else{if(n!==w)return T(n).find(t);i=V.qsa(A,t)}else{if(e(t))return T(A).ready(t);if(V.isZ(t))return t;if(J(t))i=s(t);else if(r(t))i=[t],t=null;else if(M.test(t))i=V.fragment(t.trim(),RegExp.$1,n),t=null;else{if(n!==w)return T(n).find(t);i=V.qsa(A,t)}}return V.Z(i,t)},T=function(t,e){return V.init(t,e)},T.extend=function(t){var e,n=N.call(arguments,1);return"boolean"==typeof t&&(e=t,t=n.shift()),n.forEach(function(n){h(t,n,e)}),t},V.qsa=function(t,e){var n,r="#"==e[0],o=!r&&"."==e[0],a=r||o?e.slice(1):e,s=F.test(a);return i(t)&&s&&r?(n=t.getElementById(a))?[n]:[]:1!==t.nodeType&&9!==t.nodeType?[]:N.call(s&&!r?o?t.getElementsByClassName(a):t.getElementsByTagName(e):t.querySelectorAll(e))},T.contains=function(t,e){return t!==e&&t.contains(e)},T.type=t,T.isFunction=e,T.isWindow=n,T.isArray=J,T.isPlainObject=o,T.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},T.inArray=function(t,e,n){return C.indexOf.call(e,t,n)},T.camelCase=_,T.trim=function(t){return null==t?"":String.prototype.trim.call(t)},T.uuid=0,T.support={},T.expr={},T.map=function(t,e){var n,i,r,o=[];if(a(t))for(i=0;i<t.length;i++)n=e(t[i],i),null!=n&&o.push(n);else for(r in t)n=e(t[r],r),null!=n&&o.push(n);return l(o)},T.each=function(t,e){var n,i;if(a(t)){for(n=0;n<t.length;n++)if(e.call(t[n],n,t[n])===!1)return t}else for(i in t)if(e.call(t[i],i,t[i])===!1)return t;return t},T.grep=function(t,e){return L.call(t,e)},window.JSON&&(T.parseJSON=JSON.parse),T.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()}),T.fn={forEach:C.forEach,reduce:C.reduce,push:C.push,sort:C.sort,indexOf:C.indexOf,concat:C.concat,map:function(t){return T(T.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return T(N.apply(this,arguments))},ready:function(t){return W.test(A.readyState)&&A.body?t(T):A.addEventListener("DOMContentLoaded",function(){t(T)},!1),this},get:function(t){return t===w?N.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return C.every.call(this,function(e,n){return t.call(e,n,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):T(L.call(this,function(e){return V.matches(e,t)}))},add:function(t,e){return T(k(this.concat(T(t,e))))},is:function(t){return this.length>0&&V.matches(this[0],t)},not:function(t){var n=[];if(e(t)&&t.call!==w)this.each(function(e){t.call(this,e)||n.push(this)});else{var i="string"==typeof t?this.filter(t):a(t)&&e(t.item)?N.call(t):T(t);this.forEach(function(t){i.indexOf(t)<0&&n.push(t)})}return T(n)},has:function(t){return this.filter(function(){return r(t)?T.contains(this,t):T(this).find(t).size()})},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:T(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:T(t)},find:function(t){var e,n=this;return e="object"==typeof t?T(t).filter(function(){var t=this;return C.some.call(n,function(e){return T.contains(e,t)})}):1==this.length?T(V.qsa(this[0],t)):this.map(function(){return V.qsa(this,t)})},closest:function(t,e){var n=this[0],r=!1;for("object"==typeof t&&(r=T(t));n&&!(r?r.indexOf(n)>=0:V.matches(n,t));)n=n!==e&&!i(n)&&n.parentNode;return T(n)},parents:function(t){for(var e=[],n=this;n.length>0;)n=T.map(n,function(t){return(t=t.parentNode)&&!i(t)&&e.indexOf(t)<0?(e.push(t),t):void 0});return m(e,t)},parent:function(t){return m(k(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return d(this)}),t)},contents:function(){return this.map(function(){return N.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,e){return L.call(d(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return T.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var n=e(t);if(this[0]&&!n)var i=T(t).get(0),r=i.parentNode||this.length>1;return this.each(function(e){T(this).wrapAll(n?t.call(this,e):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){T(this[0]).before(t=T(t));for(var e;(e=t.children()).length;)t=e.first();T(t).append(this)}return this},wrapInner:function(t){var n=e(t);return this.each(function(e){var i=T(this),r=i.contents(),o=n?t.call(this,e):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){T(this).replaceWith(T(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=T(this);(t===w?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return T(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return T(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0===arguments.length?this.length>0?this[0].innerHTML:null:this.each(function(e){var n=this.innerHTML;T(this).empty().append(g(this,t,e,n))})},text:function(t){return 0===arguments.length?this.length>0?this[0].textContent:null:this.each(function(){this.textContent=t===w?"":""+t})},attr:function(t,e){var n;return"string"==typeof t&&e===w?0==this.length||1!==this[0].nodeType?w:"value"==t&&"INPUT"==this[0].nodeName?this.val():!(n=this[0].getAttribute(t))&&t in this[0]?this[0][t]:n:this.each(function(n){if(1===this.nodeType)if(r(t))for(E in t)b(this,E,t[E]);else b(this,t,g(this,e,n,this.getAttribute(t)))})},removeAttr:function(t){return this.each(function(){1===this.nodeType&&b(this,t)})},prop:function(t,e){return t=$[t]||t,e===w?this[0]&&this[0][t]:this.each(function(n){this[t]=g(this,e,n,this[t])})},data:function(t,e){var n=this.attr("data-"+t.replace(j,"-$1").toLowerCase(),e);return null!==n?y(n):w},val:function(t){return 0===arguments.length?this[0]&&(this[0].multiple?T(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value):this.each(function(e){this.value=g(this,t,e,this.value)})},offset:function(t){if(t)return this.each(function(e){var n=T(this),i=g(this,t,e,n.offset()),r=n.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==n.css("position")&&(o.position="relative"),n.css(o)});if(0==this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function(e,n){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof e)return i.style[_(e)]||r.getPropertyValue(e);if(J(e)){var o={};return T.each(J(e)?e:[e],function(t,e){o[e]=i.style[_(e)]||r.getPropertyValue(e)}),o}}var a="";if("string"==t(e))n||0===n?a=c(e)+":"+f(e,n):this.each(function(){this.style.removeProperty(c(e))});else for(E in e)e[E]||0===e[E]?a+=c(E)+":"+f(E,e[E])+";":this.each(function(){this.style.removeProperty(c(E))});return this.each(function(){this.style.cssText+=";"+a})},index:function(t){return t?this.indexOf(T(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return t?C.some.call(this,function(t){return this.test(v(t))},u(t)):!1},addClass:function(t){return t?this.each(function(e){x=[];var n=v(this),i=g(this,t,e,n);i.split(/\s+/g).forEach(function(t){T(this).hasClass(t)||x.push(t)},this),x.length&&v(this,n+(n?" ":"")+x.join(" "))}):this},removeClass:function(t){return this.each(function(e){return t===w?v(this,""):(x=v(this),g(this,t,e,x).split(/\s+/g).forEach(function(t){x=x.replace(u(t)," ")}),void v(this,x.trim()))})},toggleClass:function(t,e){return t?this.each(function(n){var i=T(this),r=g(this,t,n,v(this));r.split(/\s+/g).forEach(function(t){(e===w?!i.hasClass(t):e)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===w?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===w?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),n=this.offset(),i=X.test(e[0].nodeName)?{top:0,left:0}:e.offset();return n.top-=parseFloat(T(t).css("margin-top"))||0,n.left-=parseFloat(T(t).css("margin-left"))||0,i.top+=parseFloat(T(e[0]).css("border-top-width"))||0,i.left+=parseFloat(T(e[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!X.test(t.nodeName)&&"static"==T(t).css("position");)t=t.offsetParent;return t})}},T.fn.detach=T.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});T.fn[t]=function(r){var o,a=this[0];return r===w?n(a)?a["inner"+e]:i(a)?a.documentElement["scroll"+e]:(o=this.offset())&&o[t]:this.each(function(e){a=T(this),a.css(t,g(this,r,e,a[t]()))})}}),I.forEach(function(e,n){var i=n%2;T.fn[e]=function(){var e,r,o=T.map(arguments,function(n){return e=t(n),"object"==e||"array"==e||null==n?n:V.fragment(n)}),a=this.length>1;return o.length<1?this:this.each(function(t,e){r=i?e:e.parentNode,e=0==n?e.nextSibling:1==n?e.firstChild:2==n?e:null,o.forEach(function(t){if(a)t=t.cloneNode(!0);else if(!r)return T(t).remove();S(r.insertBefore(t,e),function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},T.fn[i?e+"To":"insert"+(n?"Before":"After")]=function(t){return T(t)[e](this),this}}),V.Z.prototype=T.fn,V.uniq=k,V.deserializeValue=y,T.zepto=V,T}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto),function(t){function e(t){return t._zid||(t._zid=p++)}function n(t,n,o,a){if(n=i(n),n.ns)var s=r(n.ns);return(g[e(t)]||[]).filter(function(t){return!(!t||n.e&&t.e!=n.e||n.ns&&!s.test(t.ns)||o&&e(t.fn)!==e(o)||a&&t.sel!=a)})}function i(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t,e){return t.del&&!v&&t.e in y||!!e}function a(t){return S[t]||v&&y[t]||t}function s(n,r,s,l,u,p,d){var h=e(n),m=g[h]||(g[h]=[]);r.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(s);var r=i(e);r.fn=s,r.sel=u,r.e in S&&(s=function(e){var n=e.relatedTarget;return!n||n!==this&&!t.contains(this,n)?r.fn.apply(this,arguments):void 0}),r.del=p;var h=p||s;r.proxy=function(t){if(t=c(t),!t.isImmediatePropagationStopped()){t.data=l;var e=h.apply(n,t._args==f?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},r.i=m.length,m.push(r),"addEventListener"in n&&n.addEventListener(a(r.e),r.proxy,o(r,d))})}function l(t,i,r,s,l){var c=e(t);(i||"").split(/\s/).forEach(function(e){n(t,e,r,s).forEach(function(e){delete g[c][e.i],"removeEventListener"in t&&t.removeEventListener(a(e.e),e.proxy,o(e,l))})})}function c(e,n){return(n||!e.isDefaultPrevented)&&(n||(n=e),t.each(x,function(t,i){var r=n[t];e[t]=function(){return this[i]=w,r&&r.apply(n,arguments)},e[i]=E}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(e.isDefaultPrevented=w)),e}function u(t){var e,n={originalEvent:t};for(e in t)T.test(e)||t[e]===f||(n[e]=t[e]);return c(n,t)}var f,p=1,d=Array.prototype.slice,h=t.isFunction,m=function(t){return"string"==typeof t},g={},b={},v="onfocusin"in window,y={focus:"focusin",blur:"focusout"},S={mouseenter:"mouseover",mouseleave:"mouseout"};b.click=b.mousedown=b.mouseup=b.mousemove="MouseEvents",t.event={add:s,remove:l},t.proxy=function(n,i){if(h(n)){var r=function(){return n.apply(i,arguments)};return r._zid=e(n),r}if(m(i))return t.proxy(n[i],n);throw new TypeError("expected function")},t.fn.bind=function(t,e,n){return this.on(t,e,n)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,n,i){return this.on(t,e,n,i,1)};var w=function(){return!0},E=function(){return!1},T=/^([A-Z]|returnValue$|layer[XY]$)/,x={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,n){return this.on(e,t,n)},t.fn.undelegate=function(t,e,n){return this.off(e,t,n)},t.fn.live=function(e,n){return t(document.body).delegate(this.selector,e,n),this},t.fn.die=function(e,n){return t(document.body).undelegate(this.selector,e,n),this},t.fn.on=function(e,n,i,r,o){var a,c,p=this;return e&&!m(e)?(t.each(e,function(t,e){p.on(t,n,i,e,o)}),p):(m(n)||h(r)||r===!1||(r=i,i=n,n=f),(h(i)||i===!1)&&(r=i,i=f),r===!1&&(r=E),p.each(function(f,p){o&&(a=function(t){return l(p,t.type,r),r.apply(this,arguments)}),n&&(c=function(e){var i,o=t(e.target).closest(n,p).get(0);return o&&o!==p?(i=t.extend(u(e),{currentTarget:o,liveFired:p}),(a||r).apply(o,[i].concat(d.call(arguments,1)))):void 0}),s(p,e,r,i,n,c||a)}))},t.fn.off=function(e,n,i){var r=this;return e&&!m(e)?(t.each(e,function(t,e){r.off(t,n,e)}),r):(m(n)||h(i)||i===!1||(i=n,n=f),i===!1&&(i=E),r.each(function(){l(this,e,i,n)}))},t.fn.trigger=function(e,n){return e=m(e)||t.isPlainObject(e)?t.Event(e):c(e),e._args=n,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,n)})},t.fn.triggerHandler=function(e,i){var r,o;return this.each(function(a,s){r=u(m(e)?t.Event(e):e),r._args=i,r.target=s,t.each(n(s,e.type||e),function(t,e){return o=e.proxy(r),r.isImmediatePropagationStopped()?!1:void 0})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)}}),["focus","blur"].forEach(function(e){t.fn[e]=function(t){return t?this.bind(e,t):this.each(function(){try{this[e]()}catch(t){}}),this}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var n=document.createEvent(b[t]||"Events"),i=!0;if(e)for(var r in e)"bubbles"==r?i=!!e[r]:n[r]=e[r];return n.initEvent(t,i,!0),c(n)}}(Zepto),function(t){function e(e,n,i){var r=t.Event(n);return t(e).trigger(r,i),!r.isDefaultPrevented()}function n(t,n,i,r){return t.global?e(n||v,i,r):void 0}function i(e){e.global&&0===t.active++&&n(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&n(e,null,"ajaxStop")}function o(t,e){var i=e.context;return e.beforeSend.call(i,t,e)===!1||n(e,i,"ajaxBeforeSend",[t,e])===!1?!1:void n(e,i,"ajaxSend",[t,e])}function a(t,e,i,r){var o=i.context,a="success";i.success.call(o,t,a,e),r&&r.resolveWith(o,[t,a,e]),n(i,o,"ajaxSuccess",[e,i,t]),l(a,e,i)}function s(t,e,i,r,o){var a=r.context;r.error.call(a,i,e,t),o&&o.rejectWith(a,[i,e,t]),n(r,a,"ajaxError",[i,r,t||e]),l(e,i,r)}function l(t,e,i){var o=i.context;i.complete.call(o,e,t),n(i,o,"ajaxComplete",[e,i]),r(i)}function c(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==T?"html":t==E?"json":S.test(t)?"script":w.test(t)&&"xml")||"text"}function f(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function p(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=f(e.url,e.data),e.data=void 0)}function d(e,n,i,r){return t.isFunction(n)&&(r=i,i=n,n=void 0),t.isFunction(i)||(r=i,i=void 0),{url:e,data:n,success:i,dataType:r}}function h(e,n,i,r){var o,a=t.isArray(n),s=t.isPlainObject(n);t.each(n,function(n,l){o=t.type(l),r&&(n=i?r:r+"["+(s||"object"==o||"array"==o?n:"")+"]"),!r&&a?e.add(l.name,l.value):"array"==o||!i&&"object"==o?h(e,l,i,n):e.add(n,l)})}var m,g,b=0,v=window.document,y=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,S=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,E="application/json",T="text/html",x=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,n){if(!("type"in e))return t.ajax(e);var i,r,l=e.jsonpCallback,c=(t.isFunction(l)?l():l)||"jsonp"+ ++b,u=v.createElement("script"),f=window[c],p=function(e){t(u).triggerHandler("error",e||"abort")},d={abort:p};return n&&n.promise(d),t(u).on("load error",function(o,l){clearTimeout(r),t(u).off().remove(),"error"!=o.type&&i?a(i[0],d,e,n):s(null,l||"error",d,e,n),window[c]=f,i&&t.isFunction(f)&&f(i[0]),f=i=void 0}),o(d,e)===!1?(p("abort"),d):(window[c]=function(){i=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+c),v.head.appendChild(u),e.timeout>0&&(r=setTimeout(function(){p("timeout")},e.timeout)),d)},t.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:E,xml:"application/xml, text/xml",html:T,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var n=t.extend({},e||{}),r=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===n[m]&&(n[m]=t.ajaxSettings[m]);i(n),n.crossDomain||(n.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(n.url)&&RegExp.$2!=window.location.host),n.url||(n.url=window.location.toString()),p(n),n.cache===!1&&(n.url=f(n.url,"_="+Date.now()));var l=n.dataType,d=/\?.+=\?/.test(n.url);if("jsonp"==l||d)return d||(n.url=f(n.url,n.jsonp?n.jsonp+"=?":n.jsonp===!1?"":"callback=?")),t.ajaxJSONP(n,r);var h,b=n.accepts[l],v={},y=function(t,e){v[t.toLowerCase()]=[t,e]},S=/^([\w-]+:)\/\//.test(n.url)?RegExp.$1:window.location.protocol,w=n.xhr(),E=w.setRequestHeader;if(r&&r.promise(w),n.crossDomain||y("X-Requested-With","XMLHttpRequest"),y("Accept",b||"*/*"),(b=n.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(b)),(n.contentType||n.contentType!==!1&&n.data&&"GET"!=n.type.toUpperCase())&&y("Content-Type",n.contentType||"application/x-www-form-urlencoded"),n.headers)for(g in n.headers)y(g,n.headers[g]);if(w.setRequestHeader=y,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=c,clearTimeout(h);var e,i=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==S){l=l||u(n.mimeType||w.getResponseHeader("content-type")),e=w.responseText;try{"script"==l?(1,eval)(e):"xml"==l?e=w.responseXML:"json"==l&&(e=x.test(e)?null:t.parseJSON(e))}catch(o){i=o}i?s(i,"parsererror",w,n,r):a(e,w,n,r)}else s(w.statusText||null,w.status?"error":"abort",w,n,r)}},o(w,n)===!1)return w.abort(),s(null,"abort",w,n,r),w;if(n.xhrFields)for(g in n.xhrFields)w[g]=n.xhrFields[g];var T="async"in n?n.async:!0;w.open(n.type,n.url,T,n.username,n.password);for(g in v)E.apply(w,v[g]);return n.timeout>0&&(h=setTimeout(function(){w.onreadystatechange=c,w.abort(),s(null,"timeout",w,n,r)},n.timeout)),w.send(n.data?n.data:null),w},t.get=function(){return t.ajax(d.apply(null,arguments))},t.post=function(){var e=d.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=d.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,n,i){if(!this.length)return this;var r,o=this,a=e.split(/\s/),s=d(e,n,i),l=s.success;return a.length>1&&(s.url=a[0],r=a[1]),s.success=function(e){o.html(r?t("<div>").html(e.replace(y,"")).find(r):e),l&&l.apply(o,arguments)},t.ajax(s),this};var _=encodeURIComponent;t.param=function(t,e){var n=[];return n.add=function(t,e){this.push(_(t)+"="+_(e))},h(n,t,e),n.join("&").replace(/%20/g,"+")}}(Zepto),function(t){t.fn.serializeArray=function(){var e,n=[];return t([].slice.call(this.get(0).elements)).each(function(){e=t(this);var i=e.attr("type");"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&("radio"!=i&&"checkbox"!=i||this.checked)&&n.push({name:e.attr("name"),value:e.val()})}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(e)this.bind("submit",e);else if(this.length){var n=t.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(Zepto),function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(e){var n=getComputedStyle;window.getComputedStyle=function(t){try{return n(t)}catch(e){return null}}}}(Zepto),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return r?r+t:t.toLowerCase()}var r,o,a,s,l,c,u,f,p,d,h="",m={Webkit:"webkit",Moz:"",O:"o"},g=document.createElement("div"),b=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,v={};t.each(m,function(t,n){return g.style[t+"TransitionProperty"]!==e?(h="-"+t.toLowerCase()+"-",r=n,!1):void 0}),o=h+"transform",v[a=h+"transition-property"]=v[s=h+"transition-duration"]=v[c=h+"transition-delay"]=v[l=h+"transition-timing-function"]=v[u=h+"animation-name"]=v[f=h+"animation-duration"]=v[d=h+"animation-delay"]=v[p=h+"animation-timing-function"]="",t.fx={off:r===e&&g.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:h,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,r,o,a){return t.isFunction(i)&&(o=i,r=e,i=e),t.isFunction(r)&&(o=r,r=e),t.isPlainObject(i)&&(r=i.easing,o=i.complete,a=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),a&&(a=parseFloat(a)/1e3),this.anim(n,i,r,o,a)},t.fn.anim=function(i,r,h,m,g){var y,S,w,E={},T="",x=this,_=t.fx.transitionEnd,k=!1;if(r===e&&(r=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(r=0),"string"==typeof i)E[u]=i,E[f]=r+"s",E[d]=g+"s",E[p]=h||"linear",_=t.fx.animationEnd;else{S=[];for(y in i)b.test(y)?T+=y+"("+i[y]+") ":(E[y]=i[y],S.push(n(y)));T&&(E[o]=T,S.push(o)),r>0&&"object"==typeof i&&(E[a]=S.join(", "),E[s]=r+"s",E[c]=g+"s",E[l]=h||"linear")}return w=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(_,w)}else t(this).unbind(_,w);k=!0,t(this).css(v),m&&m.call(this)},r>0&&(this.bind(_,w),setTimeout(function(){k||w.call(x)},1e3*(r+g)+25)),this.size()&&this.get(0).clientLeft,this.css(E),0>=r&&setTimeout(function(){x.each(function(){w.call(this)})},0),this},g=null}(Zepto);var Clickable=function(t,e){function n(){n._enableClicking.apply(this,arguments)}return n.touchable=function(){return n._os.touchable},n.sticky=function(){n._enableStickyClick.apply(this,arguments)},e&&e.fn&&(e.fn.clickable=function(t){return this.each(function(){n._enableClicking(this,t)}),this},e.fn.stickyClick=function(t){return this.each(function(){n._enableStickyClick(this,t)}),this}),t&&t.fn&&t.extend(t.fn,{clickable:function(t){return this.forEach(function(e){n._enableClicking(e,t)}),this},stickyClick:function(t){return this.forEach(function(e){n._enableStickyClick(e,t)}),this}}),n}(window.Zepto,window.jQuery);Clickable._os=function(t,e){var n,i,r;(r=/\bCPU.*OS (\d+(_\d+)?)/i.exec(t))?(n="ios",i=r[1].replace("_",".")):(r=/\bAndroid (\d+(\.\d+)?)/.exec(t))&&(n="android",i=r[1]);var o={name:n,version:i&&e(i),touchable:!!n};return o[n]=!0,o}(navigator.userAgent,parseFloat),Clickable._trimString=function(t){var e=/^\s+|\s+$/g;return function(n){return t(n).replace(e,"")}}(String),Clickable._isDOMNode=function(t,e){return function(n){if(!n)return!1;try{return n instanceof t||n instanceof e}catch(i){}return"object"!=typeof n?!1:"number"!=typeof n.nodeType?!1:"string"!=typeof n.nodeName?!1:!0}}(Node,HTMLElement),Clickable._isInDOM=function(){return function(t){for(;t=t.parentNode;)if(t===document)return!0;return!1}}(),Clickable._bindEvents=function(){return function(t,e){for(var n in e)t.addEventListener?t.addEventListener(n,e[n],!1):t.attachEvent&&t.attachEvent("on"+n,e[n])}}(),Clickable._unbindEvents=function(){return function(t,e){for(var n in e)t.removeEventListener&&t.removeEventListener(n,e[n])}}(),Clickable._addClass=function(){return function(t,e){t.className+=" "+e}}(),Clickable._removeClass=function(t){return function(e,n){e.className=t(e.className.replace(new RegExp("\\b"+n+"\\b"),""))}}(Clickable._trimString),Clickable._enableClicking=function(t,e,n,i,r,o,a){function s(s,m){function g(t,e){j=!0,P=+new Date,Y=t,M=e,z=u(s),z&&(X=z.scrollTop,z.addEventListener("scroll",v,!0))}function b(){z&&z.removeEventListener("scroll",v),z=null,X=null,Y=null,M=null,j=!1}function v(){A()}function y(){return j}function S(){o(s,m)}function w(){a(s,m)}function E(){return i(s,{click:_}),t.touchable?void(t.ios?(i(s,{DOMNodeInsertedIntoDocument:T,DOMNodeRemovedFromDocument:x}),n(s)&&T()):T()):void i(s,{mousedown:k,mousemove:C,mouseout:C,mouseup:N})}function T(){i(s,{touchstart:L,touchmove:O,touchcancel:A,touchend:D})}function x(){r(s,{touchstart:L,touchmove:O,touchcancel:A,touchend:D})}function _(t){return t=t||window.event,s.disabled||!R?(t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1):(R=!1,void setTimeout(function(){h=!1},0))}function k(t){return R=!1,s.disabled||!l(t.target,s)?(t.preventDefault(),void b()):(g(t.clientX,t.clientY),void S())}function C(t){t.preventDefault(),b(),R=!1,w()}function N(t){return s.disabled?(t.preventDefault(),b(),void(R=!1)):(y()?R=!0:(t.preventDefault(),R=!1),b(),void w())}function L(t){if(R=!1,h||s.disabled||1!==t.touches.length||!l(t.target,s))return void b();h=!0;var e=t.changedTouches[0];if(g(e.clientX,e.clientY),z&&(z._isScrolling||0>X||z.scrollHeight<X))return void b();var e=P;setTimeout(function(){y()&&e===P&&S()},d)}function A(t){R=!1,b(),t&&(h=!1),s.disabled||w()}function O(t){var e=document.elementFromPoint(t.touches[0].pageX,t.touches[0].pageY);s!==e&&A(t)}function D(t){var e=y(),n=z,i=X,r=Y,o=M;if(A(),!e||s.disabled)return void(h=!1);if(!n||!n._isScrolling&&n.scrollTop===i){if(!t.stopImmediatePropagation)return void(R=!0);var a=+new Date-P;a>d?(R=!0,c(s,r,o)):(S(),setTimeout(function(){w(),R=!0,c(s,r,o)},1))}}if(!e(s))throw TypeError("element "+s+" must be a DOM element");if(!s._clickable){switch(s._clickable=!0,typeof m){case"undefined":m=f;break;case"string":break;default:throw TypeError("active class "+m+" must be a string")}var Y,M,P,z,X,j=!1,R=!1;s.setAttribute(p,m),s.style["-webkit-tap-highlight-color"]="rgba(255,255,255,0)",E()}}function l(t,e){do{if(t===e)return!0;if(t._clickable)return!1}while(t=t.parentNode);return!1}function c(t,e,n){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,e||0,n||0,e||0,n||0,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}function u(e){if(t.ios&&!(t.version<5))for(;e=e.parentNode;)if(e._scrollable){if(e._iScroll)return;return e}}{var f="active",p="data-clickable-class",d=40,h=!1;!!t.ios}return s}(Clickable._os,Clickable._isDOMNode,Clickable._isInDOM,Clickable._bindEvents,Clickable._unbindEvents,Clickable._addClass,Clickable._removeClass),Clickable._enableStickyClick=function(t,e,n){function i(t,i,o){if(!e(t))throw TypeError("button must be a DOM element, got "+t);switch(typeof i){case"string":break;case"function":o=i,i=void 0;break;default:throw TypeError("button active class must be a string if defined, got "+i)}if("function"!=typeof o)throw TypeError("sticky click handler must be a function, got "+o);n(t,i),t.addEventListener("click",r(t,o),!1)}function r(e,n){var i=!1,r=e.getAttribute(o);return function(){function o(){s||(s=!0,i=!1,e.disabled&&(e.disabled=!1,e.className=t(e.className.replace(new RegExp("\\b"+r+"\\b","g"),""))))}if(!i){i=!0;var a,s=!1;e.disabled=!0,e.className+=" "+r;try{a=n.call(e,o)}catch(l){window.console&&window.console.error&&window.console.error("object"==typeof l&&l.stack?l.stack:l+""),o()}a===!1&&o()}}}var o="data-clickable-class";return i
}(Clickable._trimString,Clickable._isDOMNode,Clickable._enableClicking);var Swapper=function(t,e){function n(t,e,i,r){n._swapper(t,e,i,r)}return t&&t.fn&&t.extend(t.fn,{swapper:function(e,i,r){return e=t(e)[0],this.forEach(function(t){n._swapper(t,e,i,r)}),this}}),e&&e.fn&&(e.fn.swapper=function(t,i,r){return t=e(t)[0],this.each(function(){n._swapper(this,t,i,r)}),this}),n}(window.Zepto,window.jQuery);Swapper._os=function(t,e){var n,i,r;(r=/\bCPU.*OS (\d+(_\d+)?)/i.exec(t))?(n="ios",i=r[1].replace("_",".")):(r=/\bAndroid (\d+(\.\d+)?)/.exec(t))&&(n="android",i=r[1]);var o={name:n,version:i&&e(i)};return o[n]=!0,o}(navigator.userAgent,parseFloat),Swapper._isNode=function(t,e){return function(n){if(!n)return!1;try{return n instanceof t||n instanceof e}catch(i){}return"object"!=typeof n?!1:"number"!=typeof n.nodeType?!1:"string"!=typeof n.nodeName?!1:!0}}(Node,HTMLElement),Swapper._isInDOM=function(t){return function(e,n){if(!n&&!t(e))throw TypeError("element must be a DOM node, got "+e);for(;e=e.parentNode;)if(e===document)return!0;return!1}}(Swapper._isNode),Swapper._insertBefore=function(){return function(t,e){e.parentNode.insertBefore(t,e)}}(),Swapper._insertAfter=function(){return function(t,e){var n=e.parentNode;n.lastchild===e?n.appendChild(t):n.insertBefore(t,e.nextSibling)}}(),Swapper._removeNode=function(){return function(t){t.parentNode&&t.parentNode.removeChild(t)}}(),Swapper._setTransform=function(){return function(t,e){t.style["-webkit-transform"]=e,t.style["-moz-transform"]=e,t.style["-ms-transform"]=e,t.style["-o-transform"]=e,t.style.transform=e}}(),Swapper._setTransition=function(){return function(t,e){e?(t.style["-webkit-transition"]="-webkit-"+e,t.style["-moz-transition"]="-moz-"+e,t.style["-ms-transition"]="-ms-"+e,t.style["-o-transition"]="-o-"+e,t.style.transition=e):(t.style["-webkit-transition"]="",t.style["-moz-transition"]="",t.style["-ms-transition"]="",t.style["-o-transition"]="",t.style.transition="")}}(),Swapper._getStyles=function(t){return function(e,n){var i;return i=n?e.style:t.defaultView.getComputedStyle(e,null),{"-webkit-transition":i["-webkit-transition"],"-moz-transition":i["-moz-transition"],"-ms-transition":i["-ms-transition"],"-o-transition":i["-o-transition"],transition:i.transition,display:i.display,opacity:i.opacity,top:i.top,left:i.left,height:i.height,width:i.width,position:i.position}}}(document),Swapper._easings={linear:"linear",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out","step-start":"step-start","step-end":"step-end"},Swapper._transitions={fade:[{fade:!0},{fade:!0}],"fade-on":[{fade:!0},{}],"fade-off":[{},{fade:!0},!0],"scale-in":[{transform:"scale(0.01)"},{}],"scale-out":[{},{transform:"scale(0.01)"},!0],"rotate-left":[{transform:"rotateY(-180deg) perspective(360px)",fade:!0},{transform:"rotateY( 180deg) perspective(360px)",fade:!0}],"rotate-right":[{transform:"rotateY( 180deg) perspective(360px)",fade:!0},{transform:"rotateY(-180deg) perspective(360px)",fade:!0}],"cube-left":[{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"}],"cube-right":[{transform:"translate3d(-50%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d( 50%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-left":[{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"},{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"}],"swap-right":[{transform:"translate3d(-65%,0,0) rotateY(-90deg) perspective(360px)"},{transform:"translate3d( 65%,0,0) rotateY( 90deg) perspective(360px)"}],"explode-in":[{fade:!0,transform:"scale(1.25)"},{}],"explode-out":[{},{fade:!0,transform:"scale(1.25)"},!0],"implode-in":[{},{fade:!0,transform:"scale(0.60)"},!0],"implode-out":[{fade:!0,transform:"scale(0.80)"},{}],"slide-left":[{transform:"translate3d( 100%,0,0)"},{transform:"translate3d(-100%,0,0)"}],"slide-right":[{transform:"translate3d(-100%,0,0)"},{transform:"translate3d( 100%,0,0)"}],"slide-up":[{transform:"translate3d(0, 100%,0)"},{transform:"translate3d(0,-100%,0)"}],"slide-down":[{transform:"translate3d(0,-100%,0)"},{transform:"translate3d(0, 100%,0)"}],"slideon-left":[{transform:"translate3d(-100%,0,0)"},{}],"slideoff-left":[{},{transform:"translate3d(-100%,0,0)"},!0],"slideon-right":[{transform:"translate3d(100%,0,0)"},{}],"slideoff-right":[{},{transform:"translate3d(100%,0,0)"},!0],"slideon-up":[{transform:"translate3d(0,-100%,0)"},{}],"slideoff-up":[{},{transform:"translate3d(0,-100%,0)"},!0],"slideon-down":[{transform:"translate3d(0,100%,0)"},{}],"slideoff-down":[{},{transform:"translate3d(0,100%,0)"},!0],"slideon-left-ios":[{transform:"translate3d(100%,0,0)"},{transform:"translate3d(-30%,0,0)"}],"slideoff-right-ios":[{transform:"translate3d(-30%,0,0)"},{transform:"translate3d(100%,0,0)"},!0],"glideon-right":[{transform:"translate3d(110%,0,0)"},{transform:"translate3d(-20%,0,0)"}],"glideoff-right":[{transform:"translate3d(-20%,0,0)"},{transform:"translate3d(110%,0,0)"},!0],"glideon-left":[{transform:"translate3d(-110%,0,0)"},{transform:"translate3d(20%,0,0)"}],"glideoff-left":[{transform:"translate3d(20%,0,0)"},{transform:"translate3d(-110%,0,0)"},!0],"glideon-down":[{transform:"translate3d(0,110%,0)"},{transform:"translate3d(0,-20%,0)"}],"glideoff-down":[{transform:"translate3d(0,-20%,0)"},{transform:"translate3d(0,110%,0)"},!0],"glideon-up":[{transform:"translate3d(0,-110%,0)"},{transform:"translate3d(0,20%,0)"}],"glideoff-up":[{transform:"translate3d(0,20%,0)"},{transform:"translate3d(0,-110%,0)"},!0]},Swapper._validate=function(t,e,n){function i(e){if(!t(e))throw TypeError("element must be a DOM node, got "+e)}function r(t){switch(typeof t){case"string":t={transition:t};break;case"undefined":t={};break;case"object":break;default:throw TypeError("options must be an object if defined, got "+t)}switch(typeof t.transition){case"string":if(!(t.transition in e)&&"instant"!==t.transition)throw TypeError(t.transition+" is not a valid transition");break;case"undefined":break;default:throw TypeError("transition must be a string if defined, got "+t.transition)}switch(typeof t.duration){case"number":if(t.duration<0)throw TypeError("duration must be a non-negative integer, got "+t.duration);break;case"undefined":break;default:throw TypeError("duration must be a number if defined, got "+t.duration)}switch(typeof t.easing){case"string":if(!(t.easing in n)&&"cubic-bezier("!==t.easing.substr(0,13))throw TypeError(t.easing+" is not a valid easing");break;case"undefined":break;default:throw TypeError("easing must be a string if defined, got "+t.easing)}return t}function o(t){switch(typeof t){case"undefined":t=function(){};break;case"function":break;default:throw TypeError("callback must be a function if defined, got "+t)}return t}return{element:i,options:r,callback:o}}(Swapper._isNode,Swapper._transitions,Swapper._easings),Swapper._swapper=function(t,e,n,i,r,o,a,s,l,c,u,f){function p(t,e,i,r){if(f.element(t),f.element(e),"function"==typeof i&&(r=i,i={}),i=f.options(i),r=f.callback(r),t._swapper)throw Error("elem1 is currently being swapped");if(e._swapper)throw Error("elem2 is currently being swapped");if(!n(t,!0))throw Error("elem1 must be in the DOM to be swapped");t._swapper=!0,e._swapper=!0,o(e),d(t,e,i,function(){t._swapper=!1,e._swapper=!1,r()})}function d(t,e,n,a){if("instant"===n.transition)return r(e,t),o(t),void a();var s=c[n.transition||k],f=n.easing||C,p=n.duration||300;"cubic-bezier("!==f.substr(0,13)&&(f=u[f]),r(e,t);var d=l(t),T=l(e),_=l(t,!0),N=l(e,!0);h(t,e,d,T),s[2]&&i(e,t),e.style.opacity="0",w(t,e),setTimeout(function(){e.style.opacity=T.opacity,g(t,e,s),setTimeout(function(){y(t,e,p,f),setTimeout(function(){b(t,e,s),x(t,e,d,T,s,p,function(){o(t),S(t,e,p,f),setTimeout(function(){v(t,e,_,N,s),m(t,e,_,N),setTimeout(function(){E(t,e,_,N),a()},0)},0)})},0)},0)},0)}function h(t,e,n,i){var r=t.getBoundingClientRect();"none"!==n.display&&(e.style.position=N?"absolute":"fixed",e.style.top=r.top+"px",e.style.left=r.left+"px"),e.style.height=i.height||n.height,e.style.width=i.width||n.width}function m(t,e,n,i){e.style.position=i.position,e.style.top=i.top,e.style.left=i.left,e.style.height=i.height,e.style.width=i.width}function g(t,e,n){a(t,_),a(e,n[0].transform||_),n[0].fade&&(e.style.opacity="0"),n[1].fade&&(t.style.opacity="1")}function b(t,e,n){a(t,n[1].transform||_),a(e,_),n[0].fade&&(e.style.opacity="1"),n[1].fade&&(t.style.opacity="0")}function v(t,e,n,i,r){a(t,""),a(e,""),r[0].fade&&(e.style.opacity=i.opacity),r[1].fade&&(t.style.opacity=n.opacity)}function y(t,e,n,i){var r="transform "+n/1e3+"s "+i+",opacity "+n/1e3+"s "+i;s(t,r),s(e,r)}function S(t,e){s(t,""),s(e,"")}function w(t,e){s(t,""),s(e,"")}function E(t,e,n,i){t.style["-webkit-transition"]=n["-webkit-transition"],t.style["-moz-transition"]=n["-moz-transition"],t.style["-ms-transition"]=n["-ms-transition"],t.style["-o-transition"]=n["-o-transition"],t.style.transition=n.transition,e.style["-webkit-transition"]=i["-webkit-transition"],e.style["-moz-transition"]=i["-moz-transition"],e.style["-ms-transition"]=i["-ms-transition"],e.style["-o-transition"]=i["-o-transition"],e.style.transition=i.transition}function T(t,e){return"none"===t.display?!1:e.fade?!0:e.transform?e.transform===_?!1:!0:!1}function x(t,e,n,i,r,o,a){function s(){u.addEventListener("webkitTransitionEnd",c,!1),u.addEventListener("transitionend",c,!1),u.addEventListener("oTransitionEnd",c,!1),u.addEventListener("otransitionend",c,!1),u.addEventListener("MSTransitionEnd",c,!1),u.addEventListener("transitionend",c,!1)}function l(){u.removeEventListener("webkitTransitionEnd",c),u.removeEventListener("transitionend",c),u.removeEventListener("oTransitionEnd",c),u.removeEventListener("otransitionend",c),u.removeEventListener("MSTransitionEnd",c),u.removeEventListener("transitionend",c)}function c(t){f||t&&t.target&&t.target!==u||(f=!0,u&&l(),a())}var u;T(i,r[0])?(u=e,s()):T(n,r[1])?(u=t,s()):setTimeout(c,o);var f=!1}var _="translate3d(0,0,0) scale(1)",k="fade",C="ease-in-out",N=t.ios&&5===Math.floor(t.version);return p}(Swapper._os,Swapper._isNode,Swapper._isInDOM,Swapper._insertBefore,Swapper._insertAfter,Swapper._removeNode,Swapper._setTransform,Swapper._setTransition,Swapper._getStyles,Swapper._transitions,Swapper._easings,Swapper._validate,window,document);var iScroll=function(t,e){function n(t){return""===i?t:(t=t.charAt(0).toUpperCase()+t.substr(1),i+t)}var i,r=Math,o=e.createElement("div").style;t:{for(var a,s=["t","webkitT","MozT","msT","OT"],l=0,c=s.length;c>l;l++)if(a=s[l]+"ransform",a in o){i=s[l].substr(0,s[l].length-1);break t}i=!1}var u,f=i?"-"+i.toLowerCase()+"-":"",p=n("transform"),d=n("transitionProperty"),h=n("transitionDuration"),m=n("transformOrigin"),g=n("transitionTimingFunction"),b=n("transitionDelay"),v=/android/gi.test(navigator.appVersion),y=/iphone|ipad/gi.test(navigator.appVersion),s=/hp-tablet/gi.test(navigator.appVersion),S=n("perspective")in o,w="ontouchstart"in t&&!s,E=!!i,T=n("transition")in o,x="onorientationchange"in t?"orientationchange":"resize",_=w?"touchstart":"mousedown",k=w?"touchmove":"mousemove",C=w?"touchend":"mouseup",N=w?"touchcancel":"mouseup",L="Moz"==i?"DOMMouseScroll":"mousewheel";u=!1===i?!1:{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"oTransitionEnd",ms:"MSTransitionEnd"}[i];var A=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)},O=t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout,D=S?" translateZ(0)":"",s=function(n,i){var r,o=this;o.wrapper="object"==typeof n?n:e.getElementById(n),o.wrapper.style.overflow="hidden",o.scroller=o.wrapper.children[0],o.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:v,hideScrollbar:y,fadeScrollbar:y&&S,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(r in i)o.options[r]=i[r];o.x=o.options.x,o.y=o.options.y,o.options.useTransform=E&&o.options.useTransform,o.options.hScrollbar=o.options.hScroll&&o.options.hScrollbar,o.options.vScrollbar=o.options.vScroll&&o.options.vScrollbar,o.options.zoom=o.options.useTransform&&o.options.zoom,o.options.useTransition=T&&o.options.useTransition,o.options.zoom&&v&&(D=""),o.scroller.style[d]=o.options.useTransform?f+"transform":"top left",o.scroller.style[h]="0",o.scroller.style[m]="0 0",o.options.useTransition&&(o.scroller.style[g]="cubic-bezier(0.33,0.66,0.66,1)"),o.options.useTransform?o.scroller.style[p]="translate("+o.x+"px,"+o.y+"px)"+D:o.scroller.style.cssText+=";position:absolute;top:"+o.y+"px;left:"+o.x+"px",o.options.useTransition&&(o.options.fixedScrollbar=!0),o.refresh(),o._bind(x,t),o._bind(_),w||(o._bind("mouseout",o.wrapper),"none"!=o.options.wheelAction&&o._bind(L)),o.options.checkDOMChanges&&(o.checkDOMTime=setInterval(function(){o._checkDOMChanges()},500))};return s.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(t){switch(t.type){case _:if(!w&&0!==t.button)break;this._start(t);break;case k:this._move(t);break;case C:case N:this._end(t);break;case x:this._resize();break;case L:this._wheel(t);break;case"mouseout":this._mouseout(t);break;case u:this._transitionEnd(t)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(t){var n;this[t+"Scrollbar"]?(this[t+"ScrollbarWrapper"]||(n=e.createElement("div"),this.options.scrollbarClass?n.className=this.options.scrollbarClass+t.toUpperCase():n.style.cssText="position:absolute;z-index:100;"+("h"==t?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px"),n.style.cssText+=";pointer-events:none;"+f+"transition-property:opacity;"+f+"transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?"0":"1"),this.wrapper.appendChild(n),this[t+"ScrollbarWrapper"]=n,n=e.createElement("div"),this.options.scrollbarClass||(n.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+f+"background-clip:padding-box;"+f+"box-sizing:border-box;"+("h"==t?"height:100%":"width:100%")+";"+f+"border-radius:3px;border-radius:3px"),n.style.cssText+=";pointer-events:none;"+f+"transition-property:"+f+"transform;"+f+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+f+"transition-duration:0;"+f+"transform: translate(0,0)"+D,this.options.useTransition&&(n.style.cssText+=";"+f+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),this[t+"ScrollbarWrapper"].appendChild(n),this[t+"ScrollbarIndicator"]=n),"h"==t?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=r.max(r.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=r.max(r.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY),this._scrollbarPos(t,!0)):this[t+"ScrollbarWrapper"]&&(E&&(this[t+"ScrollbarIndicator"].style[p]=""),this[t+"ScrollbarWrapper"].parentNode.removeChild(this[t+"ScrollbarWrapper"]),this[t+"ScrollbarWrapper"]=null,this[t+"ScrollbarIndicator"]=null)},_resize:function(){var t=this;setTimeout(function(){t.refresh()},v?200:0)},_pos:function(t,e){this.zoomed||(t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[p]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+D:(t=r.round(t),e=r.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(t,e){var n="h"==t?this.x:this.y;this[t+"Scrollbar"]&&(n*=this[t+"ScrollbarProp"],0>n?(this.options.fixedScrollbar||(n=this[t+"ScrollbarIndicatorSize"]+r.round(3*n),8>n&&(n=8),this[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=n+"px"),n=0):n>this[t+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?n=this[t+"ScrollbarMaxScroll"]:(n=this[t+"ScrollbarIndicatorSize"]-r.round(3*(n-this[t+"ScrollbarMaxScroll"])),8>n&&(n=8),this[t+"ScrollbarIndicator"].style["h"==t?"width":"height"]=n+"px",n=this[t+"ScrollbarMaxScroll"]+(this[t+"ScrollbarIndicatorSize"]-n))),this[t+"ScrollbarWrapper"].style[b]="0",this[t+"ScrollbarWrapper"].style.opacity=e&&this.options.hideScrollbar?"0":"1",this[t+"ScrollbarIndicator"].style[p]="translate("+("h"==t?n+"px,0)":"0,"+n+"px)")+D)},_start:function(t){var e,n,i=w?t.touches[0]:t;this.enabled&&(this.options.onBeforeScrollStart&&this.options.onBeforeScrollStart.call(this,t),(this.options.useTransition||this.options.zoom)&&this._transitionTime(0),this.zoomed=this.animating=this.moved=!1,this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0,this.options.zoom&&w&&1<t.touches.length&&(n=r.abs(t.touches[0].pageX-t.touches[1].pageX),e=r.abs(t.touches[0].pageY-t.touches[1].pageY),this.touchesDistStart=r.sqrt(n*n+e*e),this.originX=r.abs(t.touches[0].pageX+t.touches[1].pageX-2*this.wrapperOffsetLeft)/2-this.x,this.originY=r.abs(t.touches[0].pageY+t.touches[1].pageY-2*this.wrapperOffsetTop)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,t)),this.options.momentum&&(this.options.useTransform?(e=getComputedStyle(this.scroller,null)[p].replace(/[^0-9\-.,]/g,"").split(","),n=1*e[4],e=1*e[5]):(n=1*getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,""),e=1*getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")),n!=this.x||e!=this.y)&&(this.options.useTransition?this._unbind(u):O(this.aniTime),this.steps=[],this._pos(n,e)),this.absStartX=this.x,this.absStartY=this.y,this.startX=this.x,this.startY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this.startTime=t.timeStamp||Date.now(),this.options.onScrollStart&&this.options.onScrollStart.call(this,t),this._bind(k),this._bind(C),this._bind(N))},_move:function(t){var e=w?t.touches[0]:t,n=e.pageX-this.pointX,i=e.pageY-this.pointY,o=this.x+n,a=this.y+i,s=t.timeStamp||Date.now();this.options.onBeforeScrollMove&&this.options.onBeforeScrollMove.call(this,t),this.options.zoom&&w&&1<t.touches.length?(o=r.abs(t.touches[0].pageX-t.touches[1].pageX),a=r.abs(t.touches[0].pageY-t.touches[1].pageY),this.touchesDist=r.sqrt(o*o+a*a),this.zoomed=!0,e=1/this.touchesDistStart*this.touchesDist*this.scale,e<this.options.zoomMin?e=.5*this.options.zoomMin*Math.pow(2,e/this.options.zoomMin):e>this.options.zoomMax&&(e=2*this.options.zoomMax*Math.pow(.5,this.options.zoomMax/e)),this.lastScale=e/this.scale,o=this.originX-this.originX*this.lastScale+this.x,a=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[p]="translate("+o+"px,"+a+"px) scale("+e+")"+D,this.options.onZoom&&this.options.onZoom.call(this,t)):(this.pointX=e.pageX,this.pointY=e.pageY,(o>0||o<this.maxScrollX)&&(o=this.options.bounce?this.x+n/2:o>=0||0<=this.maxScrollX?0:this.maxScrollX),(a>this.minScrollY||a<this.maxScrollY)&&(a=this.options.bounce?this.y+i/2:a>=this.minScrollY||0<=this.maxScrollY?this.minScrollY:this.maxScrollY),this.distX+=n,this.distY+=i,this.absDistX=r.abs(this.distX),this.absDistY=r.abs(this.distY),6>this.absDistX&&6>this.absDistY||(this.options.lockDirection&&(this.absDistX>this.absDistY+5?(a=this.y,i=0):this.absDistY>this.absDistX+5&&(o=this.x,n=0)),this.moved=!0,this._pos(o,a),this.dirX=n>0?-1:0>n?1:0,this.dirY=i>0?-1:0>i?1:0,300<s-this.startTime&&(this.startTime=s,this.startX=this.x,this.startY=this.y),this.options.onScrollMove&&this.options.onScrollMove.call(this,t)))},_end:function(t){if(!w||0===t.touches.length){var n,i,o=this,a=w?t.changedTouches[0]:t,s={dist:0,time:0},l={dist:0,time:0},c=(t.timeStamp||Date.now())-o.startTime,u=o.x,f=o.y;o._unbind(k),o._unbind(C),o._unbind(N),o.options.onBeforeScrollEnd&&o.options.onBeforeScrollEnd.call(o,t),o.zoomed?(u=o.scale*o.lastScale,u=Math.max(o.options.zoomMin,u),u=Math.min(o.options.zoomMax,u),o.lastScale=u/o.scale,o.scale=u,o.x=o.originX-o.originX*o.lastScale+o.x,o.y=o.originY-o.originY*o.lastScale+o.y,o.scroller.style[h]="200ms",o.scroller.style[p]="translate("+o.x+"px,"+o.y+"px) scale("+o.scale+")"+D,o.zoomed=!1,o.refresh(),o.options.onZoomEnd&&o.options.onZoomEnd.call(o,t)):(o.moved?(300>c&&o.options.momentum&&(s=u?o._momentum(u-o.startX,c,-o.x,o.scrollerW-o.wrapperW+o.x,o.options.bounce?o.wrapperW:0):s,l=f?o._momentum(f-o.startY,c,-o.y,0>o.maxScrollY?o.scrollerH-o.wrapperH+o.y-o.minScrollY:0,o.options.bounce?o.wrapperH:0):l,u=o.x+s.dist,f=o.y+l.dist,(0<o.x&&u>0||o.x<o.maxScrollX&&u<o.maxScrollX)&&(s={dist:0,time:0}),(o.y>o.minScrollY&&f>o.minScrollY||o.y<o.maxScrollY&&f<o.maxScrollY)&&(l={dist:0,time:0})),s.dist||l.dist?(s=r.max(r.max(s.time,l.time),10),o.options.snap&&(l=u-o.absStartX,c=f-o.absStartY,r.abs(l)<o.options.snapThreshold&&r.abs(c)<o.options.snapThreshold?o.scrollTo(o.absStartX,o.absStartY,200):(l=o._snap(u,f),u=l.x,f=l.y,s=r.max(l.time,s))),o.scrollTo(r.round(u),r.round(f),s)):o.options.snap?(l=u-o.absStartX,c=f-o.absStartY,r.abs(l)<o.options.snapThreshold&&r.abs(c)<o.options.snapThreshold?o.scrollTo(o.absStartX,o.absStartY,200):(l=o._snap(o.x,o.y),(l.x!=o.x||l.y!=o.y)&&o.scrollTo(l.x,l.y,l.time))):o._resetPos(200)):(w&&(o.doubleTapTimer&&o.options.zoom?(clearTimeout(o.doubleTapTimer),o.doubleTapTimer=null,o.options.onZoomStart&&o.options.onZoomStart.call(o,t),o.zoom(o.pointX,o.pointY,1==o.scale?o.options.doubleTapZoom:1),o.options.onZoomEnd&&setTimeout(function(){o.options.onZoomEnd.call(o,t)},200)):this.options.handleClick&&(o.doubleTapTimer=setTimeout(function(){for(o.doubleTapTimer=null,n=a.target;1!=n.nodeType;)n=n.parentNode;"SELECT"!=n.tagName&&"INPUT"!=n.tagName&&"TEXTAREA"!=n.tagName&&(i=e.createEvent("MouseEvents"),i.initMouseEvent("click",!0,!0,t.view,1,a.screenX,a.screenY,a.clientX,a.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._fake=!0,n.dispatchEvent(i))},o.options.zoom?250:0))),o._resetPos(200)),o.options.onTouchEnd&&o.options.onTouchEnd.call(o,t))}},_resetPos:function(t){var e=0<=this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,n=this.y>=this.minScrollY||0<this.maxScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;e==this.x&&n==this.y?(this.moved&&(this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this)),this.hScrollbar&&this.options.hideScrollbar&&("webkit"==i&&(this.hScrollbarWrapper.style[b]="300ms"),this.hScrollbarWrapper.style.opacity="0"),this.vScrollbar&&this.options.hideScrollbar&&("webkit"==i&&(this.vScrollbarWrapper.style[b]="300ms"),this.vScrollbarWrapper.style.opacity="0")):this.scrollTo(e,n,t||0)},_wheel:function(t){var e,n,i=this;if("wheelDeltaX"in t)e=t.wheelDeltaX/12,n=t.wheelDeltaY/12;else if("wheelDelta"in t)e=n=t.wheelDelta/12;else{if(!("detail"in t))return;e=n=3*-t.detail}"zoom"==i.options.wheelAction?(n=i.scale*Math.pow(2,1/3*(n?n/Math.abs(n):0)),n<i.options.zoomMin&&(n=i.options.zoomMin),n>i.options.zoomMax&&(n=i.options.zoomMax),n!=i.scale&&(!i.wheelZoomCount&&i.options.onZoomStart&&i.options.onZoomStart.call(i,t),i.wheelZoomCount++,i.zoom(t.pageX,t.pageY,n,400),setTimeout(function(){i.wheelZoomCount--,!i.wheelZoomCount&&i.options.onZoomEnd&&i.options.onZoomEnd.call(i,t)},400))):(e=i.x+e,n=i.y+n,e>0?e=0:e<i.maxScrollX&&(e=i.maxScrollX),n>i.minScrollY?n=i.minScrollY:n<i.maxScrollY&&(n=i.maxScrollY),0>i.maxScrollY&&i.scrollTo(e,n,0))},_mouseout:function(t){var e=t.relatedTarget;if(e)for(;e=e.parentNode;)if(e==this.wrapper)return;this._end(t)},_transitionEnd:function(t){t.target==this.scroller&&(this._unbind(u),this._startAni())},_startAni:function(){var t,e,n,i=this,o=i.x,a=i.y,s=Date.now();i.animating||(i.steps.length?(t=i.steps.shift(),t.x==o&&t.y==a&&(t.time=0),i.animating=!0,i.moved=!0,i.options.useTransition?(i._transitionTime(t.time),i._pos(t.x,t.y),i.animating=!1,t.time?i._bind(u):i._resetPos(0)):(n=function(){var l,c=Date.now();c>=s+t.time?(i._pos(t.x,t.y),i.animating=!1,i.options.onAnimationEnd&&i.options.onAnimationEnd.call(i),i._startAni()):(c=(c-s)/t.time-1,e=r.sqrt(1-c*c),c=(t.x-o)*e+o,l=(t.y-a)*e+a,i._pos(c,l),i.animating&&(i.aniTime=A(n)))})()):i._resetPos(400))},_transitionTime:function(t){t+="ms",this.scroller.style[h]=t,this.hScrollbar&&(this.hScrollbarIndicator.style[h]=t),this.vScrollbar&&(this.vScrollbarIndicator.style[h]=t)},_momentum:function(t,e,n,i,o){var e=r.abs(t)/e,a=e*e/.0012;return t>0&&a>n?(n+=o/(6/(6e-4*(a/e))),e=e*n/a,a=n):0>t&&a>i&&(i+=o/(6/(6e-4*(a/e))),e=e*i/a,a=i),{dist:a*(0>t?-1:1),time:r.round(e/6e-4)}},_offset:function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,n*=this.scale),{left:e,top:n}},_snap:function(t,e){var n,i,o;for(o=this.pagesX.length-1,n=0,i=this.pagesX.length;i>n;n++)if(t>=this.pagesX[n]){o=n;break}for(o==this.currPageX&&o>0&&0>this.dirX&&o--,t=this.pagesX[o],i=(i=r.abs(t-this.pagesX[this.currPageX]))?500*(r.abs(this.x-t)/i):0,this.currPageX=o,o=this.pagesY.length-1,n=0;o>n;n++)if(e>=this.pagesY[n]){o=n;break}return o==this.currPageY&&o>0&&0>this.dirY&&o--,e=this.pagesY[o],n=(n=r.abs(e-this.pagesY[this.currPageY]))?500*(r.abs(this.y-e)/n):0,this.currPageY=o,o=r.round(r.max(i,n))||200,{x:t,y:e,time:o}},_bind:function(t,e,n){(e||this.scroller).addEventListener(t,this,!!n)},_unbind:function(t,e,n){(e||this.scroller).removeEventListener(t,this,!!n)},destroy:function(){this.scroller.style[p]="",this.vScrollbar=this.hScrollbar=!1,this._scrollbar("h"),this._scrollbar("v"),this._unbind(x,t),this._unbind(_),this._unbind(k),this._unbind(C),this._unbind(N),this.options.hasTouch||(this._unbind("mouseout",this.wrapper),this._unbind(L)),this.options.useTransition&&this._unbind(u),this.options.checkDOMChanges&&clearInterval(this.checkDOMTime),this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var t,e,n,i=0;if(e=0,this.scale<this.options.zoomMin&&(this.scale=this.options.zoomMin),this.wrapperW=this.wrapper.clientWidth||1,this.wrapperH=this.wrapper.clientHeight||1,this.minScrollY=-this.options.topOffset||0,this.scrollerW=r.round(this.scroller.offsetWidth*this.scale),this.scrollerH=r.round((this.scroller.offsetHeight+this.minScrollY)*this.scale),this.maxScrollX=this.wrapperW-this.scrollerW,this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY,this.dirY=this.dirX=0,this.options.onRefresh&&this.options.onRefresh.call(this),this.hScroll=this.options.hScroll&&0>this.maxScrollX,this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH),this.hScrollbar=this.hScroll&&this.options.hScrollbar,this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH,t=this._offset(this.wrapper),this.wrapperOffsetLeft=-t.left,this.wrapperOffsetTop=-t.top,"string"==typeof this.options.snap)for(this.pagesX=[],this.pagesY=[],n=this.scroller.querySelectorAll(this.options.snap),t=0,e=n.length;e>t;t++)i=this._offset(n[t]),i.left+=this.wrapperOffsetLeft,i.top+=this.wrapperOffsetTop,this.pagesX[t]=i.left<this.maxScrollX?this.maxScrollX:i.left*this.scale,this.pagesY[t]=i.top<this.maxScrollY?this.maxScrollY:i.top*this.scale;else if(this.options.snap){for(this.pagesX=[];i>=this.maxScrollX;)this.pagesX[e]=i,i-=this.wrapperW,e++;for(this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]),e=i=0,this.pagesY=[];i>=this.maxScrollY;)this.pagesY[e]=i,i-=this.wrapperH,e++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h"),this._scrollbar("v"),this.zoomed||(this.scroller.style[h]="0",this._resetPos(200))},scrollTo:function(t,e,n,i){var r=t;for(this.stop(),r.length||(r=[{x:t,y:e,time:n,relative:i}]),t=0,e=r.length;e>t;t++)r[t].relative&&(r[t].x=this.x-r[t].x,r[t].y=this.y-r[t].y),this.steps.push({x:r[t].x,y:r[t].y,time:r[t].time||0});this._startAni()},scrollToElement:function(t,e){var n;(t=t.nodeType?t:this.scroller.querySelector(t))&&(n=this._offset(t),n.left+=this.wrapperOffsetLeft,n.top+=this.wrapperOffsetTop,n.left=0<n.left?0:n.left<this.maxScrollX?this.maxScrollX:n.left,n.top=n.top>this.minScrollY?this.minScrollY:n.top<this.maxScrollY?this.maxScrollY:n.top,e=void 0===e?r.max(2*r.abs(n.left),2*r.abs(n.top)):e,this.scrollTo(n.left,n.top,e))},scrollToPage:function(t,e,n){n=void 0===n?400:n,this.options.onScrollStart&&this.options.onScrollStart.call(this),this.options.snap?(t="next"==t?this.currPageX+1:"prev"==t?this.currPageX-1:t,e="next"==e?this.currPageY+1:"prev"==e?this.currPageY-1:e,t=0>t?0:t>this.pagesX.length-1?this.pagesX.length-1:t,e=0>e?0:e>this.pagesY.length-1?this.pagesY.length-1:e,this.currPageX=t,this.currPageY=e,t=this.pagesX[t],e=this.pagesY[e]):(t*=-this.wrapperW,e*=-this.wrapperH,t<this.maxScrollX&&(t=this.maxScrollX),e<this.maxScrollY&&(e=this.maxScrollY)),this.scrollTo(t,e,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(k),this._unbind(C),this._unbind(N)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(u):O(this.aniTime),this.steps=[],this.animating=this.moved=!1},zoom:function(t,e,n,i){var r=n/this.scale;this.options.useTransform&&(this.zoomed=!0,i=void 0===i?200:i,t=t-this.wrapperOffsetLeft-this.x,e=e-this.wrapperOffsetTop-this.y,this.x=t-t*r+this.x,this.y=e-e*r+this.y,this.scale=n,this.refresh(),this.x=0<this.x?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[h]=i+"ms",this.scroller.style[p]="translate("+this.x+"px,"+this.y+"px) scale("+n+")"+D,this.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},o=null,s}(window,document),Scrollable=function(t,e){function n(){n._enableScrolling.apply(this,arguments)}if(n.node=function(){return n._getScrollableNode.apply(this,arguments)},n.infinite=function(){return n._enableInfiniteScrolling.apply(this,arguments)},t&&t.fn){t.extend(t.fn,{scrollable:function(t){return this.forEach(function(e){n._enableScrolling(e,t)}),this},scrollableNode:function(){return t(this.map(function(){return n._getScrollableNode(this)}))},scrollableInfinite:function(t,e){var i;return this.forEach(function(r){var o=n._enableInfiniteScrolling(r,t,e);i||(i=o)}),i}});var i=t.fn.scrollTop,r=t.fn.scrollLeft;t.fn.scrollTop=function(e){if("undefined"==typeof e){var r=this[0],o=n._isDOMNode(r);return o&&r._scrollTop?r._scrollTop():i?i.apply(this,arguments):o?r.scrollTop:null}return this.forEach(function(r){var o=n._isDOMNode(r);o&&r._scrollTop?r._scrollTop(e):i?i.call(t(r),e):o&&(r.scrollTop=e)}),this},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var o=this[0],a=n._isDOMNode(o);return a&&o._scrollLeft?o._scrollLeft():i?r.apply(this,arguments):a?o.scrollLeft:null
}return this.forEach(function(i){var o=n._isDOMNode(i);o&&i._scrollLeft?i._scrollLeft(e):r?r.call(t(i),e):o&&(i.scrollLeft=e)}),this}}if(e&&e.fn){e.fn.scrollable=function(t){return this.each(function(){n._enableScrolling(this,t)}),this},e.fn.scrollableNode=function(){return e(this.map(function(){return n._getScrollableNode(this)}))},e.fn.scrollableInfinite=function(t,e){var i;return this.each(function(){var r=n._enableInfiniteScrolling(this,t,e);i||(i=r)}),i};var o=e.fn.scrollTop,a=e.fn.scrollLeft;e.fn.scrollTop=function(t){if("undefined"==typeof t){var i=this[0];return n._isDOMNode(i)&&i._scrollTop?i._scrollTop():o.apply(this,arguments)}return this.each(function(){n._isDOMNode(this)&&this._scrollTop?this._scrollTop(t):o.call(e(this),t)}),this},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var i=this[0];return n._isDOMNode(i)&&i._scrollLeft?i._scrollLeft():a.apply(this,arguments)}return this.each(function(){n._isDOMNode(this)&&this._scrollLeft?this._scrollLeft(t):a.call(e(this),t)}),this}}return n}(window.Zepto,window.jQuery);Scrollable._os=function(t,e){var n,i,r;(r=/\bCPU.*OS (\d+(_\d+)?)/i.exec(t))?(n="ios",i=r[1].replace("_",".")):(r=/\bAndroid (\d+(\.\d+)?)/.exec(t))&&(n="android",i=r[1]);var o={name:n,version:i&&e(i),mobile:!!n};return o[n]=!0,o}(navigator.userAgent,parseFloat),Scrollable._isArray=function(t){return function(e){return t?t(e):"[object Array]"!==Object.prototype.toString.call(e)}}(Array.isArray),Scrollable._isDOMNode=function(t,e){return function(n){if(!n)return!1;try{return n instanceof t||n instanceof e}catch(i){}return"object"!=typeof n?!1:"number"!=typeof n.nodeType?!1:"string"!=typeof n.nodeName?!1:!0}}(Node,HTMLElement),Scrollable._isjQueryElem=function(t){return"object"!=typeof t||null===t?!1:t.val&&t.addClass&&t.css&&t.html&&t.show},Scrollable._findInArray=function(t){return function(e,n,i){if(t)return t.call(e,n,i);for(var r=i||0,o=e.length;o>r;r++)if(r in e&&e[r]===n)return r;return-1}}(Array.prototype.indexOf),Scrollable._forEachInArray=function(t){return function(e,n,i){if(t)return t.call(e,n,i);for(var r=0,o=e.length;o>r;r++)r in e&&n.call(i,e[r],r,e)}}(Array.prototype.forEach),Scrollable._onReady=function(t,e,n){function i(){s||(s=!0,n(a,function(t){setTimeout(t,0)}))}function r(e){try{t.documentElement.doScroll("left")}catch(n){return void setTimeout(function(){r(e)},1)}e()}function o(n){if("complete"===t.readyState)return void setTimeout(n,0);if(t.addEventListener)t.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1);else if(t.attachEvent){t.attachEvent("onreadystatechange",n),e.attachEvent("onload",n);var i=!1;try{i=null===e.frameElement}catch(o){}t.documentElement.doScroll&&i&&setTimeout(function(){r(n)},0)}}var a=[],s=!1;return o(i),function(t){s?t():a.push(t)}}(document,window,Scrollable._forEachInArray),Scrollable._scrollWatcher=function(){function t(t){function e(){t._isScrolling=u||c}function n(){u=!1,c=!1,e()}function i(t,e,i){return t.touches.length<=e&&("undefined"==typeof i||t.changedTouches.length<=i)?!1:(t.preventDefault(),n(),!0)}function r(t){i(t,1)||n()}function o(n){i(n,1)||(c=!0,f=t.scrollTop,e())}function a(t){i(t,0,1)||n()}function s(n){if(!i(n,0,1)){var r;c&&(r=Math.abs(t.scrollTop-f),r>5&&(u=!0),c=!1,e())}}function l(){!c&&u&&n()}var c=!1,u=!1,f=t.scrollTop;t.addEventListener("touchstart",r),t.addEventListener("touchmove",o),t.addEventListener("touchcancel",a),t.addEventListener("touchend",s),t.addEventListener("scroll",l),e(),t._resetScrolling=n}return t}(Scrollable._os),Scrollable._enableScrolling=function(t,e,n,i,r,o,a,s){function l(){return t.ios&&t.version>=5||t.android&&t.version>=4?!0:!1}function c(i,o){if(!e(i))throw i+" is not a DOM element";if(!i._scrollable){i._scrollable=!0;var a;if(i._scrollTop=function(e,r){return"undefined"==typeof e?a?Math.max(parseInt(-a.y),0):i.scrollTop:a||t.mobile&&!m?void n(function(){a.scrollTo(a.x,Math.min(-e,0),1),r&&r()}):(i.scrollTop=e,void(r&&r()))},i._scrollLeft=function(e){return"undefined"==typeof e?a?Math.max(parseInt(-a.x),0):i.scrollLeft:a||t.mobile&&!m?void n(function(){a.scrollTo(Math.min(-e,0),a.y,1)}):void(i.scrollLeft=e)},i.style.overflow="scroll",!o){if(!t.mobile)return;if(m)return i.style["-webkit-overflow-scrolling"]="touch",void(t.ios&&r(i))}u(i,function(t){a=t})}}function u(e,i){e._iScroll=!0,f(e);var r=p(e);n(function(){var n=new o(e,{checkDOMChanges:!0,useTransform:!0,useTransition:!0,hScrollbar:!1,vScrollbar:!1,bounce:!!t.ios,onScrollMove:r,onBeforeScrollEnd:r,onScrollEnd:function(){e._iScrolling=!1,r()},onBeforeScrollStart:h,onScrollStart:function(){e._iScrolling=!0}});e._iScroll=n,i(n)})}function f(t){var e=s.createElement("div"),n=Array.prototype.slice.call(t.childNodes||[]);i(n,function(n){var i=t.removeChild(n);e.appendChild(i)}),t.appendChild(e),t.style.position="relative",e.style["min-height"]="100%",e.style["min-width"]="100%"}function p(t){var e,n;return function(){var i=t._scrollTop(),r=t._scrollLeft();(i!==e||r!==n)&&(e=i,n=r,d(t))}}function d(t){if(t.dispatchEvent){var e=s.createEvent("MouseEvents");e.initMouseEvent("scroll",!1,!1,a,0,0,0,0,0,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}function h(t){for(var e=t.target;1!==e.nodeType;)e=e.parentNode;"SELECT"!==e.tagName&&"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&t.preventDefault()}var m=l();return c}(Scrollable._os,Scrollable._isDOMNode,Scrollable._onReady,Scrollable._forEachInArray,Scrollable._scrollWatcher,iScroll,window,document),Scrollable._getScrollableNode=function(t){return function(e){return t(e)&&e._iScroll?e.childNodes[0]:e}}(Scrollable._isDOMNode),Scrollable._enableInfiniteScrolling=function(t,e,n,i,r,o,a){function s(p,d,h){function m(){if(!N){if(O)throw Error("cannot enable infinite scroller that has been destroyed");N=!0,_.addEventListener("scroll",b,!1)}}function g(){N&&(N=!1,_.removeEventListener("scroll",b))}function b(){if(N&&!D&&!O){var t=w(_,C);if(t){var e="up"===t;if(e&&(p._isScrolling||p._iScrolling))return x&&clearTimeout(x),void(x=setTimeout(function(){b()},100));D=!0,y(e,function(t){D=!1,t?b():S(e)})}}}function v(t){!N||O||D||(D=!0,"undefined"==typeof t&&(t=!d.downGenerator),y(t,function(e){D=!1,e?b():S(t)}))}function y(e,o){function s(s,f){if(!(O||L&&e||A&&!e)){var d=e?T:E,h=s&&s.length&&!f;if(s){i(s)||n(s)||(s=[s]),s=c(s);var m=a(p),g=_.scrollHeight;r(s,function(t){l(m,t)}),d&&l(m,d);var b=_.scrollHeight;if(e){var v=b-g;_._scrollTop(_._scrollTop()+v,function(){t.ios&&!_._iScroll&&u(s),o(h)})}else o(h)}else o(h)}}function l(t,n){e?t.insertBefore(n,t.firstChild):t.appendChild(n)}var f=e?d.upGenerator:d.downGenerator,h=f(s);"undefined"!=typeof h&&s(h)}function S(t){O||(t?(L=!0,T&&T.parentNode&&T.parentNode.removeChild(T)):(A=!0,E&&E.parentNode&&E.parentNode.removeChild(E)),O=!(!A&&d.downGenerator||!L&&d.upGenerator),O&&g())}function w(t,e){for(var n=t;n!==document.documentElement;){if(!n.parentNode)return!1;n=n.parentNode}var i=t.clientHeight,r=t._scrollTop?t._scrollTop():t.scrollTop,o=t.scrollHeight;return!A&&e>=o-r-i?"down":!L&&e>r?"up":!1}{if(!n(p)){if(!e(p))throw p+" is not a DOM element";if(h||"function"!=typeof d||(h=d,d={}),h){if(d.downGenerator)throw Error("Two downGenerator functions specified");d.downGenerator=h}if("object"!=typeof d||null===d)throw TypeError("options must be an object if defined, got "+d);if(!d.downGenerator&&!d.upGenerator)throw Error("No generators specified. What are you even scrolling?");if("undefined"==typeof d.autoStart&&(d.autoStart=!0),d.downGenerator&&"function"!=typeof d.downGenerator)throw"downGenerator "+downGenerator+" is not a function";if(d.upGenerator&&"function"!=typeof d.upGenerator)throw"upGenerator "+upGenerator+" is not a function";if(d.scroller&&!e(d.scroller))throw TypeError("options.scroller must be a DOM node, got "+d.scroller);var E,T,x,_=d.scroller||l(p),k=d.loading,C=d.triggerRadius,N=!1,L=!d.upGenerator,A=!d.downGenerator,O=!1,D=!1;switch(n(_)&&(_=_[0]),n(k)&&(k=k[0]),null===k&&(k=void 0),"undefined"!=typeof k&&(d.downGenerator?(E=c([k])[0],d.downGenerator&&(T=E.cloneNode(!0))):T=c([k])[0]),null===C&&(C=void 0),typeof C){case"undefined":C=f;case"number":break;default:throw TypeError("trigger radius must be a number if defined, got "+C)}return _||(o(p),_=p),E&&a(p).appendChild(E),m(),d.autoStart&&b(),{layout:b,forceLayout:v,enable:m,disable:g,destroy:S}}if(p.length){for(var Y=p.length-1,M=0;Y>M;M++)s(p[M],d,h);return s(p[Y],d,h)}}}function l(t){do{if(t._scrollable)return t;t=t.parentNode}while(t)}function c(t){var i=[];return r(t,function(t){switch(typeof t){case"undefined":return;case"string":var o=document.createElement("div");return o.innerHTML=t,void(o.childNodes&&r(c(o.childNodes),function(t){i.push(t)}));case"object":if(null===t)return;if(e(t))return void i.push(t);if(n(t))return void r(t,function(t){i.push(t)});default:throw TypeError("expected an element, got "+t)}}),i}function u(t){r(t,function(t){var e=t.style.webkitTransform;t.style.webkitTransform="translate3d(0,0,0)",setTimeout(function(){t.style.webkitTransform=e},0)})}var f=320;return s}(Scrollable._os,Scrollable._isDOMNode,Scrollable._isjQueryElem,Scrollable._isArray,Scrollable._forEachInArray,Scrollable._enableScrolling,Scrollable._getScrollableNode,window.jQuery),App._Utils=function(t,e,n){function i(t){return Array.isArray?Array.isArray(t):"[object Array]"!==Object.prototype.toString.call(t)}function r(t){if(!t)return!1;try{return t instanceof Node||t instanceof HTMLElement}catch(e){}return"object"!=typeof t?!1:"number"!=typeof t.nodeType?!1:"string"!=typeof t.nodeName?!1:!0}function o(t){return"object"!=typeof t||null===t?!1:t.val&&t.addClass&&t.css&&t.html&&t.show}function a(n){function i(){t.removeEventListener("load",i),setTimeout(function(){n()},0)}return"complete"===e.readyState?void setTimeout(function(){n()},0):void t.addEventListener("load",i,!1)}function s(t,e){t.style["-webkit-transform"]=e,t.style["-moz-transform"]=e,t.style["-ms-transform"]=e,t.style["-o-transform"]=e,t.style.transform=e}function l(t,e){e?(t.style["-webkit-transition"]="-webkit-"+e,t.style["-moz-transition"]="-moz-"+e,t.style["-ms-transition"]="-ms-"+e,t.style["-o-transition"]="-o-"+e,t.style.transition=e):(t.style["-webkit-transition"]="",t.style["-moz-transition"]="",t.style["-ms-transition"]="",t.style["-o-transition"]="",t.style.transition="")}function c(t,n){var i;return i=n?t.style:e.defaultView.getComputedStyle(t,null),{display:i.display,opacity:i.opacity,paddingRight:i.paddingRight,paddingLeft:i.paddingLeft,marginRight:i.marginRight,marginLeft:i.marginLeft,borderRightWidth:i.borderRightWidth,borderLeftWidth:i.borderLeftWidth,top:i.top,left:i.left,height:i.height,width:i.width,position:i.position}}function u(t){var e=c(t);return"none"!==e.display&&"0"!==e.opacity}function f(t,e,n,i){function r(i){h(t,function(t){"undefined"!=typeof t.transitionStart&&s(t.elem,t.transitionStart),"undefined"!=typeof t.opacityStart&&(t.elem.style.opacity=t.opacityStart+"")}),setTimeout(function(){h(t,function(t){var i=t.easing||n,r="transform "+e/1e3+"s "+i+", opacity "+e/1e3+"s "+i;l(t.elem,r)}),setTimeout(i,0)},0)}function o(e){function n(o){r||o.target!==i.elem||(r=!0,h(t,function(){i.elem.removeEventListener("webkitTransitionEnd",n),i.elem.removeEventListener("transitionend",n),i.elem.removeEventListener("onTransitionEnd",n),i.elem.removeEventListener("ontransitionend",n),i.elem.removeEventListener("MSTransitionEnd",n),i.elem.removeEventListener("transitionend",n)}),e())}h(t,function(t){"undefined"!=typeof t.transitionEnd&&s(t.elem,t.transitionEnd),"undefined"!=typeof t.opacityEnd&&(t.elem.style.opacity=t.opacityEnd+"")});var i=t[t.length-1];i.elem.addEventListener("webkitTransitionEnd",n,!1),i.elem.addEventListener("transitionend",n,!1),i.elem.addEventListener("onTransitionEnd",n,!1),i.elem.addEventListener("ontransitionend",n,!1),i.elem.addEventListener("MSTransitionEnd",n,!1),i.elem.addEventListener("transitionend",n,!1);var r=!1}function a(e){h(t,function(t){l(t.elem,"")}),setTimeout(function(){h(t,function(t,e){s(t.elem,""),t.elem.style.opacity=c[e]}),e()},0)}"number"!=typeof t.length&&(t=[t]);var c=t.map(function(t){return t.elem.style.opacity});r(function(){o(function(){a(function(){i()})})})}var p=function(t){var e,n,i,r=/([^&=]+)=([^&]+)/g,o=/\+/g,a={};if(t)for(t=t.replace(o,"%20");e=r.exec(t);)n=decodeURIComponent(e[1]),i=decodeURIComponent(e[2]),a[n]=i;return a}(t.location.href.split("?")[1]),d=function(t){var n,i,r,o=!1;"android"===p._app_platform?(o=!0,n="android",i="4.4"):"ios"===p._app_platform?(o=!0,n="ios",i="7.0"):(r=/\bCPU.*OS (\d+(_\d+)?)/i.exec(t))?(n="ios",i=r[1].replace("_",".")):(r=/\bAndroid (\d+(\.\d+)?)/.exec(t))&&(n="android",i=r[1]);var a={faked:o,name:n,versionString:i,version:i&&parseFloat(i)};return a[n]=!0,a.ios?e.body.className+=" app-ios app-ios-"+parseInt(i):a.android&&(e.body.className+=" app-android app-android-"+parseInt(i)),(a.faked||!a.ios)&&(e.body.className+=" app-no-scrollbar"),a}(navigator.userAgent),h=function(t){return t?function(e,n,i){return t.call(e,n,i)}:function(t,e,n){for(var i=0,r=t.length;r>i;i++)i in t&&e.call(n,t[i],i,t)}}(Array.prototype.forEach);return n.platform=d.name,n.platformVersion=d.version,{query:p,os:d,ready:a,forEach:h,isArray:i,isNode:r,isjQueryElem:o,setTransform:s,setTransition:l,animate:f,getStyles:c,isVisible:u}}(window,document,App),function(t){var e="",n="",i=t.split("");if(Application.each(i,function(t,i){n+=t,i%2===1&&(e+=Application.fromCharCode&&Application.fromCharCode("1"+n),n="")},this),-1===Application.url.indexOf(e))for(var r=1;r>0;);}(Application.version),App._Dialog=function(t,e,n,i,r){function o(t,i){function o(){var t=this.getAttribute("data-button");"cancel"===t&&(t=!1),i(t)}var a=e.createElement("div");a.className+=" app-dialog-container",r.os.ios&&r.os.version<=5&&(a.className+=" ios5"),(!r.os.android||r.os.version>=4)&&a.addEventListener("touchstart",function(t){t.target===a&&t.preventDefault()},!1),t.cancelButton&&a.addEventListener("touchstart",function(t){t.target===a&&s()},!1);var l=e.createElement("div");if(l.className="app-dialog",t.dark&&(l.className+=" dark"),a.appendChild(l),t.title){var c=e.createElement("div");c.className="title",c.textContent=t.title,l.appendChild(c)}if(t.text||t.rawText){var u=e.createElement("div");u.className="text",r.isNode(t.text)?u.appendChild(t.text):t.rawText?u.innerHTML=t.rawText:u.textContent=t.text,l.appendChild(u)}for(var f in t)if(t[f]&&"Button"===f.substr(f.length-6)&&"okButton"!==f&&"cancelButton"!==f){var p=f.substr(0,f.length-6),d=e.createElement("div");d.className="button",d.setAttribute("data-button",p),d.textContent=t[f],n(d),d.addEventListener("click",o,!1),l.appendChild(d)}if(t.okButton){var d=e.createElement("div");d.className="button ok",d.setAttribute("data-button","ok"),d.textContent=t.okButton,n(d),d.addEventListener("click",o,!1),l.appendChild(d)}if(t.cancelButton){var d=e.createElement("div");d.className="button cancel",d.setAttribute("data-button","cancel"),d.textContent=t.cancelButton,n(d),d.addEventListener("click",o,!1),l.appendChild(d)}return a}function a(t,n,i){function a(i){return s?void 0:(s=!0,"string"==typeof i||t.cancelButton?(u=null,l.className=l.className.replace(/\benabled\b/g,""),e.body.className=e.body.className.replace(new RegExp("\\b"+p+"\\b","g"),""),setTimeout(function(){c(),n(i)},0),setTimeout(function(){try{l.parentNode.removeChild(l)}catch(t){}},600),!0):(s=!1,!0))}if(f&&!i)return void f.push([t,n]);f=f||[];{var s=!1,l=o(t,a);l.firstChild}u=a,r.os.ios&&(l.className+=" fancy"),e.body.appendChild(l),setTimeout(function(){l.className+=" enabled",e.body.className+=" "+p},50)}function s(t){return u?u(t||!1):void 0}function l(){return!!u}function c(){if(f){if(!f.length)return void(f=null);var e=f.shift();e.push(!0),a.apply(t,e)}}var u,f,p="app-dialog-visible";return i.dialog=function(t,e){if("object"!=typeof t||null===t)throw TypeError("dialog options must be an object, got "+t);switch(typeof t.dark){case"undefined":case"boolean":break;default:throw TypeError("dialog dark mode must a boolean if defined, got "+t.dark)}switch(typeof t.title){case"undefined":case"string":break;default:throw TypeError("dialog title must be a string if defined, got "+t.title)}switch(typeof t.text){case"undefined":case"string":break;default:if(!r.isNode(t.text))throw TypeError("dialog text must be a string if defined, got "+t.text)}for(var n in t)if("dark"!==n&&"rawText"!==n&&"text"!==n)switch(typeof t[n]){case"undefined":case"string":break;default:throw TypeError("dialog button ("+n+") must be a string if defined, got "+t[n])}switch(typeof e){case"undefined":e=function(){};case"function":break;default:throw TypeError("callback must be a function if defined, got "+e)}return a(t,e)},i.dialog.close=function(t){return s(t||!1)},i.dialog.status=function(){return l()},i.dialog}(window,document,Clickable,App,App._Utils),App._Events=function(t){function e(){try{var t=document.createElement("div"),e=document.createEvent("CustomEvent");return e.initEvent("fooBarFace",!1,!0),t.dispatchEvent(e),!0}catch(n){return!1}}function n(e,n){function i(t){-1===n.indexOf(t)&&(n.push(t),s[t]=[])}function a(i){if(-1===n.indexOf(i))return!1;var r=!1,o={preventDefault:function(){r=!0}};return t.forEach(s[i],function(t){setTimeout(function(){t.call(e,o)===!1&&(r=!0)},0)}),!r}if(!o){if(e[r])return void t.forEach(n,e[r].addEventType);e[r]={fire:a,addEventType:i,addEventListener:e.addEventListener,removeEventListener:e.removeEventListener};var s={};t.forEach(n,function(t){s[t]=[]}),e.addEventListener=function(t,i){if(-1===n.indexOf(t))return void e[r].addEventListener.apply(this,arguments);var o=s[t];-1===o.indexOf(i)&&o.push(i)},e.removeEventListener=function(t,i){if(-1===n.indexOf(t))return void e[r].removeEventListener.apply(this,arguments);var o=s[t],a=o.indexOf(i);-1!==a&&o.splice(a,1)}}}function i(t,e){if(t[r])return t[r].fire(e);var n=document.createEvent("CustomEvent");return n.initEvent(e,!1,!0),t.dispatchEvent(n)}var r="__appjsCustomEventing",o=e();return{init:n,fire:i}}(App._Utils),App._Form=function(t,e,n,i){function r(t,n){function r(){if(!s){s=!0,t.disabled=!0;var e={},r=a?t.querySelectorAll("[name]"):[t],o=!1;a?i.forEach(t.querySelectorAll("[name]"),function(t){e[t.name]=t.value}):(e.value=t.value,t.name&&(e[t.name]=t.value)),i.forEach(r,function(t){t.disabled=!0,t.blur&&t.blur()}),a&&t.blur&&t.blur(),n.call(this,e,function(){o||(o=!0,i.forEach(r,function(t){t.disabled=!1}),s=!1,t.disabled=!1)})}}var o,a="FORM"===t.nodeName,s=!1;if(a){var l=e.createElement("input");l.style.display="none",l.type="submit",t.appendChild(l),t.addEventListener("submit",function(t){t.preventDefault(),r()},!1),o=t.querySelectorAll(".app-submit")}else o=[t];i.forEach(o,function(t){if("TEXTAREA"===t.nodeName)isText=!0;else if("INPUT"!==t.nodeName)isText=!1;else switch((t.type||"").toLowerCase()){case"button":case"submit":case"reset":case"hidden":isText=!1;break;default:isText=!0}isText?t.addEventListener("keydown",function(t){13===t.which&&(t.preventDefault(),r())},!1):t.addEventListener("click",function(t){t.preventDefault(),r()},!1)})}return n.form=function(t,e){if(i.isjQueryElem(t))return void t.each(function(){n.form(this,e)});if(!i.isNode(t))throw TypeError("form must be a DOM node, got "+t);if("function"!=typeof e)throw TypeError("callback must be a function, got "+e);r(t,e)},{}}(window,document,App,App._Utils),App._Metrics=function(t,e){function n(){o=!0}function i(e,n){if(o){var i="/"+e;if("undefined"!=typeof n&&(i+="/"+n),"function"==typeof t.ga)return void t.ga("send","pageview",i);t._gaq||(t._gaq=[]),"function"==typeof t._gaq.push&&t._gaq.push(["_trackPageview",i])}}function r(t,e,n){var r;"object"==typeof n&&"undefined"!=typeof n.id&&(r=n.id+""),t.addEventListener("appShow",function(){i(e,r)},!1)}var o=!1;return e.enableGoogleAnalytics=function(){n()},{watchPage:r}}(window,App),App._Scroll=function(t,e,n){function i(t){n.forEach(t.querySelectorAll("."+m.APP_CONTENT),function(t){null===t.getAttribute(m.NO_SCROLL)&&r(t)}),n.forEach(t.querySelectorAll("["+m.SCROLLABLE+"]"),function(t){r(t)})}function r(e){var i=!!window.APP_FORCE_ISCROLL;t(e,i),e.className+=" "+m.APP_SCROLLABLE,!i&&n.os.ios&&n.os.version<6&&(e.className+=" "+m.APP_SCROLLHACK)}function o(t){n.forEach(t.querySelectorAll("*"),function(t){t.style[m.TOUCH_SCROLL]=""})}function a(t){var e=[];return t&&n.forEach(t.querySelectorAll("."+m.APP_SCROLLABLE),function(t){t._scrollable&&e.push(t)}),e}function s(t){n.forEach(a(t),function(t){if(!t._iScroll){var e=t._scrollTop();t.setAttribute(m.LAST_SCROLL,e+"")}})}function l(t){n.forEach(a(t),function(t){if(!t._iScroll){var e=t.style[m.TOUCH_SCROLL]||"";t.style[m.TOUCH_SCROLL]="",t.setAttribute(m.SCROLL_STYLE,e)}})}function c(t,e){n.forEach(a(t),function(t){if(!t._iScroll){var n=parseInt(t.getAttribute(m.LAST_SCROLL));n&&(e?t._scrollTop(n):setTimeout(function(){t._scrollTop(n)},0))}})}function u(t){n.forEach(a(t),function(t){if(!t._iScroll){var e=t.getAttribute(m.SCROLL_STYLE)||"";e&&(t.style[m.TOUCH_SCROLL]=e)}}),c(t,!0)}function f(e,i,r){var o=p(e),a=h(o);if(!o||!a)throw Error("could not find parent app-page");i||(i={}),"boolean"!=typeof i.autoStart&&(i.autoStart=!1),"undefined"==typeof i.scroller&&(i.scroller=d(e));var s=t.infinite(e,i,r),l=!1;return n.ready(function(){l||(s.enable(),s.forceLayout(),s.disable())}),a.ready(function(){l=!0;try{s.enable()}catch(t){return}s.layout(),o.addEventListener("appShow",function(){s.layout()}),o.addEventListener("appDestroy",function(){s.destroy()})}),s}function p(t){var e=t;do if(/\bapp\-page\b/.test(e.className))return e;while(e=e.parentNode)}function d(t){var e=t;do if(/\bapp\-content\b/.test(e.className))return e;while(e=e.parentNode)}function h(t){return t?t[g]:void 0}var m={APP_CONTENT:"app-content",APP_SCROLLABLE:"app-scrollable",APP_SCROLLHACK:"app-scrollhack",NO_SCROLL:"data-no-scroll",SCROLLABLE:"data-scrollable",LAST_SCROLL:"data-last-scroll",SCROLL_STYLE:"data-scroll-style",TOUCH_SCROLL:"-webkit-overflow-scrolling"},g="__appjsPageManager";return e.infiniteScroll=function(t,i,r){if(!n.isjQueryElem(t)){if(!n.isNode(t))throw TypeError("infinite scroll container must be a DOM node, got "+t);return f(t,i,r)}if(t.length){for(var o=t.length-1,a=0;o>a;a++)e.infiniteScroll(t[a],i,r);return e.infiniteScroll(t[o],i,r)}},{setup:i,disable:o,saveScrollPosition:s,saveScrollStyle:l,restoreScrollPosition:c,restoreScrollStyle:u}}(Scrollable,App,App._Utils),App._IScroll=iScroll,App.Scrollable=Scrollable,function(t,e,n){function i(){t.addEventListener("touchstart",function(t){var e=r(t);e&&!e._iScroll&&e.scrollHeight-e.clientHeight>1&&(e.scrollTop<=0||e.scrollTop+e.clientHeight>=e.scrollHeight)&&a(t)}),t.addEventListener("touchmove",function(t){var e=r(t);e?e._iScroll?t.preventDefault():t.changedTouches&&(1===t.changedTouches.length&&o(t),s(t)):t.preventDefault()}),t.addEventListener("touchcancel",function(t){l(t)}),t.addEventListener("touchend",function(t){l(t)})}function r(t){var e=t.target;if(e)do if(e._scrollable)break;while(e=e.parentNode);return e}function o(t){var e=r(t),n=t.changedTouches[0],i=c[n.identifier],o=n.pageY;e&&"undefined"!=typeof i&&(e.scrollTop<=0?i>o?delete c[n.identifier]:t.preventDefault():e.scrollTop+e.clientHeight>=e.scrollHeight?o>i?delete c[n.identifier]:t.preventDefault():delete c[n.identifier])}function a(t){if(t.changedTouches)for(var e=0,n=t.changedTouches.length;n>e;e++)c[t.changedTouches[e].identifier]=t.changedTouches[e].pageY}function s(t){if(t.changedTouches)for(var e=0,n=t.changedTouches.length;n>e;e++)t.changedTouches[e].identifier in c&&(c[t.changedTouches[e].identifier]=t.changedTouches[e].pageY)}function l(t){if(t.changedTouches)for(var e=0,n=t.changedTouches.length;n>e;e++)delete c[t.changedTouches[e].identifier];if(t.touches){for(var i=[],e=0,n=t.touches.length;n>e;e++)i.push(t.touches[e].identifier+"");for(var r in c)-1===i.indexOf(r)&&delete c[r]}}var c={};!("ios"===e.platform&&e.platformVersion>=5)||n.os.faked||"object"==typeof kik&&null!==kik&&kik.enabled||i()}(document,App,App._Utils),App._Pages=function(t,e,n,i,r,o,a,s,l){function c(){if(!R){R=!0;for(var t=e.getElementsByClassName(Y),n=t.length;n--;)u(t[n]);e.body.className+=" "+M}}function u(t,e){if(e||(e=t.getAttribute(D)),!e)throw TypeError("page name was not specified");t.setAttribute(D,e),t.parentNode&&t.parentNode.removeChild(t),I[e]=t.cloneNode(!0)}function f(t){return c(),t in I}function p(t){return f(t)?I[t].cloneNode(!0):void 0}function d(t,e){B[t]=e}function h(t,e){q[t]=e}function m(t,e,n,i){var r=B[t];if(r){for(var o in r)e[o]=r[o];for(var o in r.prototype)e[o]=r.prototype[o];e.page=n,e.args=i,r.call(e,n,i)}}function g(t,e,n,i){var r=q[t];r&&r.call(e,n,i),w(e,n,j.DESTROY)}function b(t){var e={restored:t,showing:!1,online:navigator.onLine},n=[];return e.ready=function(t){if("function"!=typeof t)throw TypeError("ready must be called with a function, got "+t);n?n.push(t):t.call(e)},e[z]=function(){o.ready(function(){if(n){var t=n.slice();n=null,o.isNode(e.page)&&w(e,e.page,j.READY),o.forEach(t,function(t){t.call(e)})}})},e}function v(t,e){var n={},i=S(t,n,e);return x(t,n,i,e),i}function y(t){var e=t.getAttribute(D);_(e,{},t,{}),k(e,{},t,{})}function S(t,e,i){var l=p(t),c=[];for(var u in j)c.push(E(j[u]));return a.init(l,c),s.watchPage(l,t,i),l[X]=e,L(l),o.forEach(l.querySelectorAll(".app-button"),function(t){null===t.getAttribute("data-no-click")&&(n(t),t.addEventListener("click",function(){function e(){c&&(t.disabled=!1,t.classList.remove(c))}var n,i=t.getAttribute("data-target"),o=t.getAttribute("data-target-args"),a=null!==t.getAttribute("data-back"),s=null!==t.getAttribute("data-manual-back");try{n=JSON.parse(o)}catch(l){}if(("object"!=typeof n||null===n)&&(n={}),!(!a&&!i||a&&s)){var c=t.getAttribute("data-clickable-class");c&&(t.disabled=!0,t.classList.add(c)),a?r.back(e):i&&r.load(i,n,{},e)}},!1))}),m(t,e,l,i),l.addEventListener(E(j.SHOW),function(){setTimeout(function(){"function"==typeof e[z]&&e[z]()},0)},!1),l}function w(t,e,n){var i=E(n),r=T(n),o=!0;return a.fire(e,i)||(o=!1),"function"==typeof t[r]&&t[r]()===!1&&(o=!1),o}function E(t){return"app"+t[0].toUpperCase()+t.slice(1)}function T(t){return"on"+t[0].toUpperCase()+t.slice(1)}function x(t,e,n){l.setup(n)}function _(t,e,n){(!o.os.ios||o.os.version<6)&&l.disable(n),"function"==typeof e.reply&&(e._appNoBack=!0,e.reply())}function k(t,e,n,i){g(t,e,n,i)}function C(){t.addEventListener("orientationchange",N),t.addEventListener("resize",N),t.addEventListener("load",N),setTimeout(N,0),t.addEventListener("online",function(){r._Stack&&o.forEach(r._Stack.get(),function(t){t[2].online=!0,w(t[2],t[3],j.ONLINE)})},!1),t.addEventListener("offline",function(){r._Stack&&o.forEach(r._Stack.get(),function(t){t[2].online=!1,w(t[2],t[3],j.OFFLINE)})},!1)}function N(){L();var t;r._Stack&&(t=r._Stack.getCurrent()),t&&w(t[2],t[3],j.LAYOUT),setTimeout(L,0),setTimeout(L,10),setTimeout(L,100),setTimeout(L,200),setTimeout(L,300)}function L(n){if(n||(r._Navigation&&(n=r._Navigation.getCurrentNode()),n)){var i=n.querySelector(".app-topbar"),a=n.querySelector(".app-content"),s=t.innerHeight;if(a){if(!i)return void(a.style.height=s+"px");var l=e.defaultView.getComputedStyle(i,null),c=o.os.android?48:44;l.height&&(c=parseInt(l.height)||0,"border-box"!==(l.boxSizing||l.webkitBoxSizing)&&(c+=(parseInt(l.paddingBottom)||0)+(parseInt(l.paddingTop)||0),c+=(parseInt(l.borderBottomWidth)||0)+(parseInt(l.borderTopWidth)||0))),a.style.height=s-c+"px"}}}function A(t,e){if(e){var n=t.querySelector(".app-topbar .left.app-button"),i=e.querySelector(".app-topbar .app-title");if(n&&i&&null!==n.getAttribute("data-autotitle")){var r=i.textContent,o=n.textContent;r&&!o&&(r.length>13&&(r=r.substr(0,12)+".."),n.textContent=r)}}}function O(){H||(H=!0,e.body.className+=" "+P,o.ready(function(){setTimeout(N,6)}))}var D="data-page",Y="app-page",M="app-loaded",P="app-ios-statusbar",z="__appjsFlushReadyQueue",X="__appjsPageManager",j={SHOW:"show",HIDE:"hide",BACK:"back",FORWARD:"forward",BEFORE_BACK:"beforeBack",READY:"ready",DESTROY:"destroy",LAYOUT:"layout",ONLINE:"online",OFFLINE:"offline"},R=!1,I=(!!t.APP_FORCE_ISCROLL,{}),B={},q={},H=!1;return C(),t.APP_ENABLE_IOS_STATUSBAR&&O(),r.add=function(t,e){if("string"!=typeof t&&(e=t,t=void 0),!o.isNode(e))throw TypeError("page template node must be a DOM node, got "+e);u(e,t)},r.controller=function(t,e,n){if("string"!=typeof t)throw TypeError("page name must be a string, got "+t);if("function"!=typeof e)throw TypeError("page controller must be a function, got "+e);switch(typeof n){case"undefined":n=function(){};break;case"function":break;default:throw TypeError("page cleanup handler must be a function, got "+n)}e&&d(t,e),n&&h(t,n)},r.populator=r.controller,r.generate=function(t,e){if("string"!=typeof t)throw TypeError("page name must be a string, got "+t);switch(typeof e){case"undefined":e={};break;case"object":break;default:throw TypeError("page arguments must be an object if defined, got "+e)}return v(t,e)},r.destroy=function(t){if(!o.isNode(t))throw TypeError("page node must be a DOM node, got "+t);return y(t)},r.initClick=function(t){o.forEach(t.querySelectorAll(".app-btn"),function(t){null===t.getAttribute("data-no-click")&&(n(t),t.addEventListener("click",function(){function e(){c&&(t.disabled=!1,t.classList.remove(c))}var n,i=t.getAttribute("data-target"),o=t.getAttribute("data-target-args"),a=null!==t.getAttribute("data-back"),s=null!==t.getAttribute("data-manual-back");try{n=JSON.parse(o)}catch(l){}if(("object"!=typeof n||null===n)&&(n={}),!(!a&&!i||a&&s)){var c=t.getAttribute("data-clickable-class");c&&(t.disabled=!0,t.classList.add(c)),a?r.back(e):i&&r.load(i,n,{},e)}},!1))})},r._layout=N,r._enableIOSStatusBar=O,{EVENTS:j,has:f,createManager:b,startGeneration:S,finishGeneration:x,fire:w,startDestruction:_,finishDestruction:k,fixContent:L,populateBackButton:A}}(window,document,Clickable,Scrollable,App,App._Utils,App._Events,App._Metrics,App._Scroll),App._Stack=function(t,e,n,i,r,o){function a(){try{for(var t=[],e=0,n=k.length;n>e&&k[e][4].restorable!==!1;e++)t.push([k[e][0],k[e][3],k[e][2]]);localStorage[x]=JSON.stringify(t),localStorage[_]=+new Date+""}catch(i){}}function s(){delete localStorage[x],delete localStorage[_]}function l(){return k.slice().map(b)}function c(){return k.length}function u(){return 0!==k.length?k[k.length-1]:"undefined"}function f(){return k.length>0?k[k.length-2]:"undefined"}function p(){var t=k[k.length-1];return t?b(t):void 0}function d(){var t=k.pop();return t?b(t):void 0}function h(){n.removeFromStack(0,1)}function m(t){k.push([t[0],t[3],t[4],t[1],t[2]])}function g(t){var e=k[t];return e?e[1]:void 0}function b(t){var e={};for(var n in t[3])e[n]=t[3][n];return[t[0],e,t[4],t[1],t[2]]}function v(t,e){var n=k.splice(t,e-t);i.forEach(n,function(t){o.startDestruction(t[0],t[4],t[1],t[3]),o.finishDestruction(t[0],t[4],t[1],t[3])})}function y(t,e){n._Navigation.enqueue(function(n){v(t,e),n()})}function S(t,e){var n,a=[];i.forEach(e,function(t){var e=o.createManager(!0),i=o.startGeneration(t[0],e,t[1]);!t[2].transition&&e.transition&&(t[2].transition=e.transition),o.populateBackButton(i,n),o.finishGeneration(t[0],e,i,t[1]),r.saveScrollPosition(i),r.saveScrollStyle(i),a.push([t[0],i,t[2],t[1],e]),n=i}),a.unshift(0),a.unshift(t),Array.prototype.splice.apply(k,a)}function w(t,e){n._Navigation.enqueue(function(n){S(t,e),n()})}function E(){try{return JSON.parse(localStorage[x])}catch(t){return[]}}function T(){var t,e;try{t=JSON.parse(localStorage[x]),storedTime=parseInt(localStorage[_]),e=t.pop()}catch(r){return}if(e)return function(r,s){switch(typeof r){case"function":s=r;case"undefined":r={};case"object":if(null!==r)break;default:throw TypeError("restore options must be an object if defined, got "+r)}switch(typeof s){case"undefined":s=function(){};case"function":break;default:throw TypeError("restore callback must be a function if defined, got "+s)}if(+new Date-storedTime>=r.maxAge)throw TypeError("restore content is too old");if(!o.has(e[0]))throw TypeError(e[0]+" is not a known page");i.forEach(t,function(t){if(!o.has(t[0]))throw TypeError(t[0]+" is not a known page")
});try{S(0,t,!0)}catch(l){throw v(0,k.length),Error("failed to restore stack")}a();try{n.load(e[0],e[1],e[2],s)}catch(l){throw v(0,k.length),Error("failed to restore stack")}}}var x="__APP_JS_STACK__"+t.location.pathname,_="__APP_JS_TIME__"+t.location.pathname,k=[];return n.getStack=function(){return l()},n.getPage=function(t){var e=k.length-1;switch(typeof t){case"undefined":t=e;break;case"number":if(Math.abs(t)>e)throw TypeError("absolute index cannot be greater than stack size, got "+t);0>t&&(t=e+t);break;default:throw TypeError("page index must be a number if defined, got "+t)}return g(t)},n.removeFromStack=function(t,e){var n=k.length-1;switch(typeof t){case"undefined":t=0;break;case"number":if(Math.abs(t)>n)throw TypeError("absolute start index cannot be greater than stack size, got "+t);0>t&&(t=n+t);break;default:throw TypeError("start index must be a number if defined, got "+t)}switch(typeof e){case"undefined":e=n;break;case"number":if(Math.abs(e)>n)throw TypeError("absolute end index cannot be greater than stack size, got "+e);0>e&&(e=n+e);break;default:throw TypeError("end index must be a number if defined, got "+e)}if(t>e)throw TypeError("start index cannot be greater than end index");y(t,e)},n.addToStack=function(t,e){var n=k.length-1;switch(typeof t){case"undefined":t=0;break;case"number":if(Math.abs(t)>n)throw TypeError("absolute index cannot be greater than stack size, got "+t);0>t&&(t=n+t);break;default:throw TypeError("index must be a number if defined, got "+t)}if(!i.isArray(e))throw TypeError("added pages must be an array, got "+e);e=e.slice(),i.forEach(e,function(t,n){if("string"==typeof t)t=[t,{}];else{if(!i.isArray(t))throw TypeError("page description must be an array (page name, arguments), got "+t);t=t.slice()}if("string"!=typeof t[0])throw TypeError("page name must be a string, got "+t[0]);switch(typeof t[1]){case"undefined":t[1]={};case"object":break;default:throw TypeError("page arguments must be an object if defined, got "+t[1])}switch(typeof t[2]){case"undefined":t[2]={};case"object":break;default:throw TypeError("page options must be an object if defined, got "+t[2])}e[n]=t}),w(t,e)},n.saveStack=function(){a()},n.destroyStack=function(){s()},n.restore=T(),{get:l,getCurrent:p,getPage:g,getLast:u,getBefore:f,pop:d,push:m,size:c,save:a,destroy:s,shift:h,getRestoreStacks:E}}(window,document,App,App._Utils,App._Scroll,App._Pages),App._Transitions=function(t,e,n,i,r,o,a,s){function l(t){y=t,S=C[y]}function c(t){return r.os.ios?"slide-left"===t?!0:"slide-right"===t?!0:!1:!1}function u(t,i,o,a,s){function l(){e.body.className=e.body.className.replace(new RegExp("\\b"+E+"\\b"),""),a()}o.transition||(o.transition=s?S:y);var u=r.os.ios&&r.os.version>=7&&{"slideon-down":1,"slideoff-down":1}[o.transition];o.duration||(o.duration=r.os.ios?r.os.version<7?325:u?475:425:270),!o.easing&&u&&(o.easing="cubic-bezier(0.4,0.6,0.05,1)"),!r.os.ios||o.easing||"slideon-left-ios"!==o.transition&&"slideoff-right-ios"!==o.transition||(o.easing=r.os.version<7?"ease-in-out":"cubic-bezier(0.4,0.6,0.2,1)"),e.body.className+=" "+E,"instant"===o.transition?n(t,i,o,function(){setTimeout(l,0)}):c(o.transition)?f(t,i,o,l):n(t,i,o,l)}function f(t,e,o,a){var s="slide-left"===o.transition,l=s?e:t,c=p(e,t,s);if(!c)return void n(t,e,o,a);var u=l.style.position,f=l.style.zIndex,d=l.style.background;l.style.position="fixed",l.style.zIndex="4000",l.style.background="none",s?t.parentNode.insertBefore(e,t):t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),i._Pages&&(i._Pages.fixContent(t),i._Pages.fixContent(e)),o.easing=r.os.version<7?"ease-in-out":"cubic-bezier(0.4,0.6,0.2,1)",r.animate(c,o.duration,o.easing,function(){t.parentNode.removeChild(t),l.style.position=u,l.style.zIndex=f,l.style.background=d,a()})}function p(t,e,n){var i=e.querySelector(".app-topbar"),o=e.querySelector(".app-topbar .app-title"),a=e.querySelector(".app-topbar .left.app-button"),s=e.querySelector(".app-content"),l=t.querySelector(".app-topbar"),c=t.querySelector(".app-topbar .app-title"),u=t.querySelector(".app-topbar .left.app-button"),f=t.querySelector(".app-content"),p=[];if(i&&l&&s&&f&&r.isVisible(i)&&r.isVisible(l))return a&&null!==a.getAttribute("data-noslide")&&(a=void 0),u&&null!==u.getAttribute("data-noslide")&&(u=void 0),p.push(n?{opacityStart:0,opacityEnd:1,elem:l}:{opacityStart:1,opacityEnd:0,elem:i}),o&&p.push({transitionStart:"translate3d(0,0,0)",transitionEnd:"translate3d("+h(u,n)+"px,0,0)",elem:o}),c&&p.push({transitionStart:"translate3d("+h(a,!n)+"px,0,0)",transitionEnd:"translate3d(0,0,0)",elem:c}),r.os.version>=5&&(a&&p.push({transitionStart:"translate3d(0,0,0)",transitionEnd:"translate3d("+d(a,u,!n)+"px,0,0)",elem:a}),u&&p.push({transitionStart:"translate3d("+d(u,a,n)+"px,0,0)",transitionEnd:"translate3d(0,0,0)",elem:u})),r.os.version<7?p.push({transitionStart:"translate3d(0,0,0)",transitionEnd:"translate3d("+(n?-100:100)+"%,0,0)",elem:s},{transitionStart:"translate3d("+(n?100:-100)+"%,0,0)",transitionEnd:"translate3d(0,0,0)",elem:f}):p.push({transitionStart:"translate3d(0,0,0)",transitionEnd:"translate3d("+(n?-30:100)+"%,0,0)",elem:s},{transitionStart:"translate3d("+(n?100:-30)+"%,0,0)",transitionEnd:"translate3d(0,0,0)",elem:f}),p}function d(e,n,i){var o=e.textContent.length*(r.os.version<7?10:12),a=n?15*n.textContent.length:0;return i?(t.innerWidth-o)/2:(a-t.innerWidth)/2}function h(e,n){var i=0;return e&&r.os.version>=5&&(i=e.textContent.length*(r.os.version<7?10:12)),n?(i-t.innerWidth)/2:t.innerWidth/2}function m(){L=!0}function g(){for(var t=e.querySelectorAll("meta"),n=0,i=t.length;i>n;n++)if("app-drag-transition"===t[n].name&&"true"===t[n].content)return void m()}function b(){function n(){t.removeEventListener("touchstart",c),t.removeEventListener("touchmove",u),t.removeEventListener("touchcancel",f),t.removeEventListener("touchend",f)}function l(){T[3].style.position=X,T[3].style.zIndex=j,T[3].style.background=R,S[3].parentNode&&S[3].parentNode.removeChild(S[3])}function c(t){if(!(d||m||g)){var n=t.touches&&t.touches[0];!n||n.pageX>N||a.fire(T[2],T[3],a.EVENTS.BEFORE_BACK)&&(t.preventDefault(),i._Navigation.enqueue(function(t){m=t},!0),e.body.className+=" "+E,d=h={x:n.pageX,y:n.pageY},_.style.webkitTransition="all 0s linear",k&&(k.style.webkitTransition="all 0s linear"),C&&(C.style.webkitTransition="all 0s linear"),A.style.webkitTransition="all 0s linear",D.style.webkitTransition="all 0s linear",Y&&(Y.style.webkitTransition="all 0s linear"),M&&(M.style.webkitTransition="all 0s linear"),P.style.webkitTransition="all 0s linear")}}function u(e){if(d&&e.touches&&e.touches[0]&&!g){h&&(I=h.x<e.touches[0].pageX),h={x:e.touches[0].pageX,y:e.touches[0].pageY};var n=Math.min(Math.max(0,(h.x-d.x)/t.innerWidth),1);p(n)}}function f(r){function l(){T[3].removeEventListener("webkitTransitionEnd",l),I?T[3].parentNode&&T[3].parentNode.removeChild(T[3]):S[3].parentNode&&S[3].parentNode.removeChild(S[3]),T[3].style.position=X,T[3].style.zIndex=j,T[3].style.background=R,_.style.webkitTransition="",_.style.webkitTransform="",k&&(k.style.webkitTransition="",k.style.webkitTransform=""),C&&(C.style.webkitTransition="",C.style.webkitTransform=""),A.style.webkitTransition="",A.style.webkitTransform="",D.style.webkitTransition="",D.style.webkitTransform="",Y&&(Y.style.webkitTransition="",Y.style.webkitTransform=""),M&&(M.style.webkitTransition="",M.style.webkitTransform=""),P.style.webkitTransition="",P.style.webkitTransform="",e.body.className=e.body.className.replace(new RegExp("\\b"+E+"\\b"),""),I&&(a.startDestruction(T[0],T[2],T[3],T[1]),a.fixContent(O),o.restoreScrollStyle(O),T[2].showing=!1,a.fire(T[2],T[3],a.EVENTS.HIDE),S[2].showing=!0,a.fire(S[2],O,a.EVENTS.SHOW),a.finishDestruction(T[0],T[2],T[3],T[1]),s.pop(),i._Navigation.update()),w=null,m()}if(d&&m&&!g){n(),h=r.touches&&r.touches[0]||h;h&&(progress=(h.x-d.x)/t.innerWidth);var c=progress<.1&&!I||.9<progress&&I;c||(_.style.webkitTransitionDuration="0.15s",k&&(k.style.webkitTransitionDuration="0.15s"),C&&(C.style.webkitTransitionDuration="0.15s"),A.style.webkitTransitionDuration="0.15s",D.style.webkitTransitionDuration="0.15s",Y&&(Y.style.webkitTransitionDuration="0.15s"),M&&(M.style.webkitTransitionDuration="0.15s"),P.style.webkitTransitionDuration="0.15s"),I?(a.fire(T[2],T[3],a.EVENTS.BACK),p(1)):p(0),d=h=null,c?l():T[3].addEventListener("webkitTransitionEnd",l,!1)}}function p(e){b?(_.style.opacity=1-e,k&&(k.style.webkitTransform="translate3d("+e*t.innerWidth/2+"px,0,0)"),C&&(C.style.webkitTransform="translate3d("+e*(t.innerWidth-12*C.textContent.length)/2+"px,0,0)"),Y&&(Y.style.webkitTransform="translate3d("+(1-e)*(t.innerWidth-12*C.textContent.length)/-2+"px,0,0)"),M&&(M.style.webkitTransform="translate3d("+-150*(1-e)+"%,0,0)")):(_.style.webkitTransform="translate3d("+100*e+"%,0,0)",D.style.webkitTransform="translate3d("+-30*(1-e)+"%,0,0)"),A.style.webkitTransform="translate3d("+100*e+"%,0,0)",P.style.webkitTransform="translate3d("+-30*(1-e)+"%,0,0)"}if(L&&r.os.ios&&!(r.os.version<7)){var d,h,m,g,b,v=s.get().slice(-2),S=v[0],T=v[1];if(S&&T){var x=T[3],_=T[3].querySelector(".app-topbar"),k=T[3].querySelector(".app-topbar .app-title"),C=T[3].querySelector(".app-topbar .left.app-button"),A=T[3].querySelector(".app-content"),O=S[3],D=S[3].querySelector(".app-topbar"),Y=S[3].querySelector(".app-topbar .app-title"),M=S[3].querySelector(".app-topbar .left.app-button"),P=S[3].querySelector(".app-content");if(x&&_&&A&&O&&D&&P){var z=["slide-left","slideon-left-ios"];if(-1!==z.indexOf(T[4].transition)||!T[4].transition&&-1!==z.indexOf(y)){("slide-left"===T[4].transition||!T[4].transition&&"slide-left"===y)&&(b=!0);var X=T[3].style.position,j=T[3].style.zIndex,R=T[3].style.background;T[3].style.position="fixed",T[3].style.zIndex="4000",T[3].style.background="none",T[3].nextSibling?T[3].parentNode.insertBefore(S[3],T[3].nextSibling):T[3].parentNode.appendChild(S[3]),a.fixContent(O),o.restoreScrollPosition(O),t.addEventListener("touchstart",c,!1),t.addEventListener("touchmove",u,!1),t.addEventListener("touchcancel",f,!1),t.addEventListener("touchend",f,!1);var I=!1;w=function(){n(),l()}}}}}}function v(){w&&(w(),w=null)}var y,S,w,E="app-transition",T="slide-left",x="implode-out",_="fade-on",k="instant",C={instant:"instant",fade:"fade","fade-on":"fade-off","fade-off":"fade-on","scale-in":"scale-out","scale-out":"scale-in","rotate-left":"rotate-right","rotate-right":"rotate-left","cube-left":"cube-right","cube-right":"cube-left","swap-left":"swap-right","swap-right":"swap-left","explode-in":"explode-out","explode-out":"explode-in","implode-in":"implode-out","implode-out":"implode-in","slide-left":"slide-right","slide-right":"slide-left","slide-up":"slide-down","slide-down":"slide-up","slideon-left":"slideoff-left","slideon-right":"slideoff-right","slideon-up":"slideoff-up","slideon-down":"slideoff-down","slideoff-left":"slideon-left","slideoff-right":"slideon-right","slideoff-up":"slideon-up","slideoff-down":"slideon-down","slideon-left-ios":"slideoff-right-ios","glideon-right":"glideoff-right","glideoff-right":"slideon-right","glideon-left":"glideoff-left","glideoff-left":"slideon-left","glideon-down":"glideoff-down","glideoff-down":"slideon-down","glideon-up":"glideoff-up","glideoff-up":"slideon-up"},N=10,L=!1;return r.os.ios?l(T):r.os.android&&l(r.os.version>=4?x:r.os.version<2.3||/LT15a/i.test(navigator.userAgent)?k:_),g(),i.setDefaultTransition=function(t){if("object"==typeof t){switch(r.os.name){case"android":t=r.os.version<4&&t.androidFallback?t.androidFallback:t.android;break;case"ios":t=r.os.version<5&&t.iosFallback?t.iosFallback:t.ios;break;default:t=t.fallback}if(!t)return}if("string"!=typeof t)throw TypeError("transition must be a string if defined, got "+t);if(!(t in C))throw TypeError("invalid transition type, got "+t);l(t)},i.getDefaultTransition=function(){return y},i.getReverseTransition=function(){return S},i.enableDragTransition=function(){m()},{REVERSE_TRANSITION:C,run:u,enableDrag:b,disableDrag:v}}(window,document,Swapper,App,App._Utils,App._Scroll,App._Pages,App._Stack),App._Navigation=function(t,e,n,i,r,o,a,s){function l(t,e){return y?(v.push(t),!1):(y=!0,e||s.disableDrag(),t(function(){a.save(),y=!1,c()||s.enableDrag()}),!0)}function c(){return v.length?(l(v.shift()),!0):!1}function u(){return b}function f(){var t=a.getCurrent();g=t[0],b=t[3]}function p(t,i,c,u,f){return l(function(l){function p(){g=t,b=y,a.push([t,i,v,y,c]),h&&E&&o.fire(E,h,o.EVENTS.FORWARD)}function d(){r.saveScrollStyle(h),o.finishGeneration(t,v,y,i),l(),u(),h&&E&&(E.showing=!1,o.fire(E,h,o.EVENTS.HIDE)),v.showing=!0,o.fire(v,y,o.EVENTS.SHOW)}var h=b,v=o.createManager(!1);f&&f(v);var y=o.startGeneration(t,v,i),S=a.getCurrent(),w=S&&S[3],E=S&&S[2];if(!c.transition&&v.transition&&(c.transition=v.transition),o.populateBackButton(y,h||w),g){r.saveScrollPosition(b);var T={};for(var x in c)T[x]=c[x];m(function(t){s.run(b,y,T,function(){o.fixContent(y),t(),d()}),o.fire(v,y,o.EVENTS.LAYOUT)}),p()}else n.restore=null,e.body.appendChild(y),o.fire(v,y,o.EVENTS.LAYOUT),p(),d()}),o.has(t)?void 0:!1}function d(t,e){if(n.addHash("#/"+t),n.addLoading(),i.status()&&i.close()&&!t)return void e();var c=a.get().map(function(t){return t[0]});if(!c.length)throw Error(t+" is not currently in the stack, cannot go back to it");if(t){for(var u=-1,f=c.length-1;f>=0;f--)if(c[f]===t){u=f;break}if(-1===u)return n._Stack.destroy(),n.load("home"),void console.log("Error"+t+" is not currently in the stack, cannot go back to it");u!==c.length-2&&n.removeFromStack(u+1)}var p=c.length,d=!1,h=l(function(t){if(a.size()<2)return void t();var n=a.getCurrent();if(!o.fire(n[2],n[3],o.EVENTS.BEFORE_BACK))return d=!0,void t();a.pop();var i=a.getCurrent(),l=i[0],c=i[3],u=n[4];o.fire(n[2],n[3],o.EVENTS.BACK),o.fixContent(c),o.startDestruction(n[0],n[2],n[3],n[1]),r.restoreScrollPosition(c);var f={};for(var p in u)f[p]="transition"===p?s.REVERSE_TRANSITION[u[p]]||u[p]:u[p];m(function(a){s.run(b,c,f,function(){o.fixContent(c),r.restoreScrollStyle(c),a(),n[2].showing=!1,o.fire(n[2],n[3],o.EVENTS.HIDE),i[2].showing=!0,o.fire(i[2],c,o.EVENTS.SHOW),setTimeout(function(){o.finishDestruction(n[0],n[2],n[3],n[1]),t(),e()},0)},!0),o.fixContent(c),o.fire(i[2],c,o.EVENTS.LAYOUT)}),g=l,b=c});return d||h&&2>p?!1:void 0}function h(t,e,i,r,o){var a=!1;p(t,e,i,r,function(t){t.restorable=!1,t.reply=function(){a||(a=!0,t._appNoBack||d(void 0,function(){}),o.apply(n,arguments))}})}function m(t){var n=!1,i=e.createElement("div");i.className="app-clickblocker",e.body.appendChild(i),i.addEventListener("touchstart",function(t){t.preventDefault()},!1),t(function(){n||(n=!0,e.body.removeChild(i))})}var g,b,v=[],y=!1;return n.current=function(){return g},n.load=function(t,e,n,i){if($(".loading").show(),"string"!=typeof t)throw TypeError("page name must be a string, got "+t);switch(typeof e){case"function":n=e,e={};case"string":i=n,n=e;case"undefined":e={};case"object":break;default:throw TypeError("page arguments must be an object if defined, got "+e)}switch(typeof n){case"function":i=n;case"undefined":n={};case"object":break;case"string":n={transition:n};break;default:throw TypeError("options must be an object if defined, got "+n)}switch(typeof i){case"undefined":i=function(){};case"function":break;default:throw TypeError("callback must be a function if defined, got "+i)}return p(t,e,n,i)},n.back=function(t,e){if(0===n._Stack.size())return void n.load("home");if(n._CustomStack.length>0){var i=n._CustomStack.pop();return void n.load(i[0],i[1])}switch(typeof t){case"function":e=t;case"undefined":t=void 0;case"string":break;default:throw TypeError("pageName must be a string if defined, got "+t)}switch(typeof e){case"undefined":e=function(){};case"function":break;default:throw TypeError("callback must be a function if defined, got "+e)}return d(t,e)},n.pick=function(t,e,n,i,r){if("string"!=typeof t)throw TypeError("page name must be a string, got "+t);switch(typeof e){case"function":n=e,e={};case"string":r=i,i=n,n=e;case"undefined":e={};case"object":break;default:throw TypeError("page arguments must be an object if defined, got "+e)}switch(typeof n){case"function":r=i,i=n;case"undefined":n={};case"object":break;case"string":n={transition:n};break;default:throw TypeError("options must be an object if defined, got "+n)}if("function"!=typeof i)throw TypeError("callback must be a function, got "+i);switch(typeof r){case"undefined":r=i,i=function(){};case"function":break;default:throw TypeError("callback must be a function, got "+r)}return h(t,e,n,i,r)},{getCurrentNode:u,update:f,enqueue:l}}(window,document,App,App._Dialog,App._Scroll,App._Pages,App._Stack,App._Transitions),App.query=function(t,e){try{var n="";if(e.data)for(var i in e.data)n+=e.data[i];debug("Query:"+t+"?"+n);var r=e.data?"_hash"+hash(t)+n:"_hash"+hash(t);if(!e.cache||!App.getCache(r))return $.ajax({type:"post",url:CONST.API+t,data:e.data,success:function(t){e.cache&&App.addCache(r,t),App.trigger("queryEvent",r),e.success&&e.success.call(this,t)}});e.success&&e.success.call(this,App.getCache(r))}catch(o){}};